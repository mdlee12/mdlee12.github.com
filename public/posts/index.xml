<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Michael Lee</title>
    <link>https://mikeleeco.github.io/posts/index.xml</link>
    <description>Recent content in Posts on Michael Lee</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <managingEditor>mdlee12@gmail.com (Michael Lee)</managingEditor>
    <webMaster>mdlee12@gmail.com (Michael Lee)</webMaster>
    <lastBuildDate>Wed, 28 Jun 2017 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://mikeleeco.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Reproducing the WSJ Measles Vaccination Chart Using R</title>
      <link>https://mikeleeco.github.io/posts/2017-06-28-wsj-measles-vaccination-chart/</link>
      <pubDate>Wed, 28 Jun 2017 00:00:00 +0000</pubDate>
      <author>mdlee12@gmail.com (Michael Lee)</author>
      <guid>https://mikeleeco.github.io/posts/2017-06-28-wsj-measles-vaccination-chart/</guid>
      <description>&lt;div id=&#34;mastering-animation-in-r&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Mastering Animation in R&lt;/h2&gt;
&lt;p&gt;Recently I’ve been working on creating gif animations for &lt;a href=&#34;https://twitter.com/EdNCES/status/859807520881344512&#34;&gt;social media&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;en&#34;&gt;
&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;
New from &lt;a href=&#34;https://twitter.com/hashtag/COE2017?src=hash&#34;&gt;#COE2017&lt;/a&gt;: 21% of students reported being bullied at school in 2015, a ↓ from the 28% reported in 2005. &lt;a href=&#34;https://t.co/5BlyLdHS9W&#34;&gt;https://t.co/5BlyLdHS9W&lt;/a&gt; &lt;a href=&#34;https://t.co/Fr1pTt8xca&#34;&gt;pic.twitter.com/Fr1pTt8xca&lt;/a&gt;
&lt;/p&gt;
— NCES (&lt;span class=&#34;citation&#34;&gt;@EdNCES&lt;/span&gt;) &lt;a href=&#34;https://twitter.com/EdNCES/status/859807520881344512&#34;&gt;May 3, 2017&lt;/a&gt;
&lt;/blockquote&gt;
&lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;p&gt;It’s pretty addicting! And not as complicated as it appears. Let’s walk through the creation of a gif using R.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;wall-street-journal-measles-vaccination-chart&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Wall Street Journal Measles Vaccination Chart&lt;/h2&gt;
&lt;p&gt;One of the more compelling data visualizations produced in recent years is the following representation of measles incidence from 1928 to 2003 produced by the Wall Street Journal graphics team:&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;https://mikeleeco.github.io/img/measles.png&#34; alt=&#34;Wall Street Journal&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;Wall Street Journal&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;In the two years after its release, many prominent data journalists, designers, and developers have analyzed/applauded the design decisions in the chart, which urge the reader to its take-home message: the introduction of the measles vaccine &lt;strong&gt;drastically&lt;/strong&gt; reduced the incidence of the virus.&lt;/p&gt;
&lt;p&gt;Recognizing it’s merit, let’s accentuate that take-home message by adding the element of animation.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;download-dependent-packages-and-prep-the-data&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Download dependent packages and prep the data&lt;/h2&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(reshape2)
library(dplyr)
library(extrafont)
library(ggplot2)
library(gganimate)
library(animation)
library(grid)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We’ll use &lt;code&gt;reshape2&lt;/code&gt; and &lt;code&gt;dplyr&lt;/code&gt; to manipulate the data, &lt;code&gt;ggplot2&lt;/code&gt; to plot it, &lt;code&gt;gganimate&lt;/code&gt; for a first animation exploration, and &lt;code&gt;animation&lt;/code&gt; and &lt;code&gt;grid&lt;/code&gt; for a customized finished product.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;download-and-prep-the-data-everything-is-a-remix&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Download and prep the data (&lt;a href=&#34;https://vimeo.com/139094998&#34;&gt;everything is a remix&lt;/a&gt;)&lt;/h2&gt;
&lt;p&gt;The heavy data prep and plotting for this plot has been done already! Much of this code comes from [this site] (&lt;a href=&#34;https://benjaminlmoore.wordpress.com/2015/04/09/recreating-the-vaccination-heatmaps-in-r/&#34; class=&#34;uri&#34;&gt;https://benjaminlmoore.wordpress.com/2015/04/09/recreating-the-vaccination-heatmaps-in-r/&lt;/a&gt;), with small improvements and the inclusion of some omitted pieces. From that site, I’ve relinked the steps to download the data:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Register and login to “Project Tycho“&lt;/li&gt;
&lt;li&gt;Go to level 1 data, then Search and retrieve data&lt;/li&gt;
&lt;li&gt;Now change a couple of options: geographic level := state; disease outcome := incidence&lt;/li&gt;
&lt;li&gt;Add all states (highlight all at once with Ctrl+A (or Cmd+A on Macs)&lt;/li&gt;
&lt;li&gt;Hit submit and scroll down to Click here to download results to excel&lt;/li&gt;
&lt;li&gt;Open in excel and export to CSV&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Once we’ve got the data and you’ve set your working directory, lets read in the file and reshape it:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;measles &amp;lt;- read.csv(&amp;quot;/home/michael/Documents/animation_samples/measles/measles.csv&amp;quot;, skip=2)
measles &amp;lt;- melt(measles, id.var=c(&amp;quot;YEAR&amp;quot;, &amp;quot;WEEK&amp;quot;))
colnames(measles) &amp;lt;- c(&amp;quot;year&amp;quot;, &amp;quot;week&amp;quot;, &amp;quot;state&amp;quot;, &amp;quot;cases&amp;quot;)
measles$cases &amp;lt;- ifelse(measles$cases==&amp;quot;\u002D&amp;quot;,NA,measles$cases)
measles$cases &amp;lt;- as.numeric(measles$cases)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;One piece I wanted to replicate was the state abbreviations used in the figure. I used the &lt;a href=&#34;https://en.wikipedia.org/wiki/List_of_U.S._state_abbreviations&#34;&gt;AP style guide&lt;/a&gt;, and you can access that csv through &lt;a href=&#34;www.mikelee.co/data/stateName.csv&#34;&gt;this link&lt;/a&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;stateAP &amp;lt;- read.csv(&amp;quot;/home/michael/Documents/animation_samples/measles/stateName.csv&amp;quot;)
stateAP$stateName &amp;lt;- toupper(stateAP$stateName)
measles$state &amp;lt;- stateAP$stateAP[match(measles$state,stateAP$stateName)]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Finally, we’ll create our measles data frame by summarizing the incidence of measles occuring in each state by year, while also recoding instances in which state’s have no incidence/values for a given year as NAs.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mdf &amp;lt;- measles %&amp;gt;% group_by(state, year) %&amp;gt;% 
  summarise(incidence=if(all(is.na(cases))) NA else
    sum(cases, na.rm=T))
mdf$state &amp;lt;- factor(mdf$state, levels=rev(levels(mdf$state)))&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;create-the-figure-using-ggplot2&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Create the figure using &lt;code&gt;ggplot2&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;We’ll pull the colors directly from the &lt;a href=&#34;http://graphics.wsj.com/infectious-diseases-and-vaccines/js/script.min.js&#34;&gt;WSJ javascript source code&lt;/a&gt;. We’ll also load the &lt;em&gt;Open Sans&lt;/em&gt; family of fonts via &lt;code&gt;loadfonts()&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;cols&amp;lt;- c(&amp;quot;#e7f0fa&amp;quot;, #lighter than light blue
         &amp;quot;#c9e2f6&amp;quot;, #light blue
         &amp;quot;#95cbee&amp;quot;, #blue
         &amp;quot;#0099dc&amp;quot;, #darker blue
         &amp;quot;#4ab04a&amp;quot;, #green
         &amp;quot;#ffd73e&amp;quot;, #yellow
         &amp;quot;#eec73a&amp;quot;, #mustard
         &amp;quot;#e29421&amp;quot;, #dark khaki (?)
         &amp;quot;#f05336&amp;quot;, #orange red
         &amp;quot;#ce472e&amp;quot;) #red
extrafont::loadfonts()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Nifty!&lt;/p&gt;
&lt;p&gt;Let’s shift to making the plot. The majority of the figure is generated via these three function calls:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gg &amp;lt;- ggplot(mdf, aes(y=state, x=year, fill=incidence)) + 
  geom_tile(colour=&amp;quot;white&amp;quot;,
            width=.9, height=.9) + theme_minimal() +
  scale_fill_gradientn(colours=cols, limits=c(0, 4000),
                       values=c(0, 0.01, 0.02, 0.03, 0.09, 0.1, .15, .25, .4, .5, 1), 
                       na.value=rgb(246, 246, 246, max=255),
                       labels=c(&amp;quot;0k&amp;quot;, &amp;quot;1k&amp;quot;, &amp;quot;2k&amp;quot;, &amp;quot;3k&amp;quot;, &amp;quot;4k&amp;quot;),
                       guide=guide_colourbar(ticks=T, nbin=50,
                                             barheight=.5, label=T, 
                                             barwidth=10))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;AThe most contentious design decision made by the WSJ authors is undoubtedly the color scale. Aligning gradient color values (in our chart as &lt;code&gt;values=c(0, 0.01, 0.02, 0.03, 0.09, 0.1, .15, .25, .4, .5, 1)&lt;/code&gt;) so that one portion of the scale is weighted more prominently than the other accentuates the message of the chart; some might see this as ambiguous or misleading - it’s challenging to ascribe what value a given color stands for. Once we have the skeleton for our plot, we can add an appropriate x axis scale, vaccine introduction line, and figure labels:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gg &amp;lt;- gg +
  scale_x_continuous(expand=c(0,0), 
                     breaks=seq(1930, 2010, by=10)) +
  geom_segment(x=1963, xend=1963, y=0, yend=51.5, size=.9) +
  labs(x=&amp;quot;&amp;quot;, y=&amp;quot;&amp;quot;, fill=&amp;quot;&amp;quot;) +
  ggtitle(&amp;quot;Measles&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Finally, we’ll add in our theme.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gg &amp;lt;- gg +
  theme(legend.position=c(.5, -.13),
        legend.direction=&amp;quot;horizontal&amp;quot;,
        legend.text=element_text(colour=&amp;quot;grey20&amp;quot;),
        plot.margin=grid::unit(c(.5,.5,1.5,.5), &amp;quot;cm&amp;quot;),
        axis.text.y=element_text(size=6, family=&amp;quot;Open Sans Regular&amp;quot;, 
                                 hjust=1),
        axis.text.x=element_text(size=8, family=&amp;quot;Open Sans Regular&amp;quot;),
        axis.ticks.y=element_blank(),
        panel.grid=element_blank(),
        title=element_text(hjust=-.07, vjust=1, 
                           family=&amp;quot;Open Sans Semibold&amp;quot;),
        text=element_text(family=&amp;quot;Open Sans&amp;quot;)) +
  annotate(&amp;quot;text&amp;quot;, label=&amp;quot;Vaccine introduced&amp;quot;, x=1963, y=53, 
           vjust=1, hjust=0, size=I(3), family=&amp;quot;Open Sans&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Volia!&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gg&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://mikeleeco.github.io/posts/2017-06-28-wsj-measles-vaccination-chart_files/figure-html/gg-1.png&#34; width=&#34;1260&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;explore-the-ggplot2-object-with-gganimate&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Explore the &lt;code&gt;ggplot2&lt;/code&gt; object with &lt;code&gt;gganimate&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;It’s dang easy to create an animation using &lt;code&gt;gganimate&lt;/code&gt;. Just add &lt;code&gt;frame&lt;/code&gt; to the initial ggplot2 call and you’re good to go! In our plot, we’ll want to interate over the data years, so &lt;code&gt;.frame = year&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;gganimate(gg, &amp;quot;/home/michael/Documents/hugo/static/img/gganimate_measles.gif&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;https://mikeleeco.github.io/img/gganimate_measles.gif&#34; alt=&#34;Measles Animation using gganimate&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;Measles Animation using gganimate&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;That’s a great start! Though this could be further developed using &lt;code&gt;gganimate&lt;/code&gt; I prefer to use the &lt;code&gt;animation&lt;/code&gt; package’s &lt;code&gt;saveGIF&lt;/code&gt; function since I prefer the method in which multiple images can be called within one call.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;refine-our-gif-using-animation&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Refine our gif using &lt;code&gt;animation&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;The main idea behind creating our animation will be iteratively print images of larger subsets of our data set. In the for-loop, &lt;code&gt;subset(mdf, year&amp;lt;=1928+i-1)&lt;/code&gt; takes the i-th value to subset the data year used in the figure. For example, for i==5, the data years 1928 through 1932 will appear in that image.&lt;/p&gt;
&lt;p&gt;Besides this change, and the addition of &lt;code&gt;frame=year&lt;/code&gt;, our ggplot2 call is nearly the same (I bumped up the font sizes to correspond with a larger image size). One supplement to the chart is the addition of pauses at critical points in the figure: in 1963 (when the measles vaccine was introduced) and in 2003 (the final data year of the figure). We’ll use if statements to determine whether pieces of the plot should be “drawn” given the circumstances of the subset. Here’s our final code:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;saveGIF(
  for (i in 1:76) {
    
    gg &amp;lt;- ggplot(subset(mdf, year&amp;lt;=1928+i-1), aes(y=state, x=year, fill=incidence, frame=year)) + 
      geom_tile(colour=&amp;quot;white&amp;quot;, 
                width=.9, height=.9) + theme_minimal() +
      scale_fill_gradientn(colours=cols, limits=c(0, 4000),
                           values=c(0,0.01, 0.02, 0.03, 0.09, 0.1, .15, .25, .4, .5,1), 
                           na.value=rgb(246, 246, 246, max=255),
                           labels=c(&amp;quot;0k&amp;quot;, &amp;quot;1k&amp;quot;, &amp;quot;2k&amp;quot;, &amp;quot;3k&amp;quot;, &amp;quot;4k&amp;quot;),
                           guide=guide_colourbar(ticks=T, nbin=50,
                                                 barheight=2, label=T, 
                                                 barwidth=40)) +
      scale_x_continuous(expand=c(0,0), 
                         breaks=seq(1930, 2010, by=10), limits = c(1928,2003))
    
        # add in vertical line for data year &amp;gt;= 1963 (when the vaccine was introduced) 
      if(max(subset(mdf, year&amp;lt;=1928+i-1)$year) &amp;gt;= 1963) {
        
     gg &amp;lt;- gg + geom_segment(x=1963, xend=1963, y=0, yend=51.5, size=1.5) +
          annotate(&amp;quot;text&amp;quot;, label=&amp;quot;Vaccine introduced&amp;quot;, x=1963, y=53, 
                   vjust=1, hjust=0, size=I(10), family=&amp;quot;Open Sans&amp;quot;)
      } else {
        # doesn&amp;#39;t add vertical lineif before 1963! instead annotate with text &amp;quot;&amp;quot;
        gg &amp;lt;- gg +
          annotate(&amp;quot;text&amp;quot;, label=&amp;quot;&amp;quot;, x=1963, y=53, 
                   vjust=1, hjust=0, size=I(10), family=&amp;quot;Open Sans&amp;quot;)
      }
    gg &amp;lt;- gg + labs(x=&amp;quot;&amp;quot;, y=&amp;quot;&amp;quot;, fill=&amp;quot;&amp;quot;) +
      ggtitle(&amp;quot;Measles&amp;quot;) +
      theme(legend.position=c(.5, -.075),
            legend.direction=&amp;quot;horizontal&amp;quot;,
            legend.text=element_text(colour=&amp;quot;grey20&amp;quot;, size = 22, family=&amp;quot;Open Sans Regular&amp;quot;),
            plot.margin=grid::unit(c(.5,.5,2.5,.5), &amp;quot;cm&amp;quot;),
            axis.text.y=element_text(size=22, family=&amp;quot;Open Sans Regular&amp;quot;, 
                                     hjust=1),
            axis.text.x=element_text(size=22,family=&amp;quot;Open Sans Regular&amp;quot;,margin=margin(10,0,0,0,&amp;quot;pt&amp;quot;)),
            axis.ticks.y=element_blank(),
            axis.line.x=element_line(colour = &amp;quot;grey50&amp;quot;),
            axis.ticks.length=unit(.5, &amp;quot;cm&amp;quot;),
            axis.ticks.x=element_line(colour = &amp;quot;grey50&amp;quot;),
            panel.grid=element_blank(),
            title=element_text(hjust=-.07, vjust=1, size = 36,
                               family=&amp;quot;Open Sans Semibold&amp;quot;),
            text=element_text(family=&amp;quot;Open Sans&amp;quot;))

    # adding in pauses for data year == 1963 (when the vaccine was introduced) and 2003 (the last year in our data)
    # the replicate() function will take a ggplot2 object and print it n-times via grid.draw()
    if(max(subset(mdf, year&amp;lt;=1928+i-1)$year) == 1963) {
      replicate(30,grid.draw(gg))
    } else if (max(subset(mdf, year&amp;lt;=1928+i-1)$year) == 2003) {
        replicate(30,grid.draw(gg))
  } else {
  print(gg)
}
  }
  ,movie.name=&amp;quot;/home/michael/Documents/hugo/static/img/measles.gif&amp;quot;,interval = .1, ani.width = 2050, ani.height = 1550)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] TRUE&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;https://mikeleeco.github.io/img/measles.gif&#34; alt=&#34;Measles Animation using animation&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;Measles Animation using animation&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Interested in learning more? Hire me to consult on your next project, follow me on &lt;a href=&#34;twitter.com/mikeleeco&#34;&gt;twitter&lt;/a&gt;, leave a comment, or contact me via &lt;a href=&#34;mailto:mdlee12@gmail.com&#34;&gt;email&lt;/a&gt;. All inquiries welcome!&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Mapping Wisconsin Presidential Election Results</title>
      <link>https://mikeleeco.github.io/posts/2016-12-26-wisconsin-presidential-election-results/</link>
      <pubDate>Thu, 05 Jan 2017 00:00:00 +0000</pubDate>
      <author>mdlee12@gmail.com (Michael Lee)</author>
      <guid>https://mikeleeco.github.io/posts/2016-12-26-wisconsin-presidential-election-results/</guid>
      <description>

&lt;h4 id=&#34;your-home-state-did-us-no-favors&#34;&gt;&lt;em&gt;&amp;ldquo;Your home state did us no favors&amp;hellip;&amp;rdquo;&lt;/em&gt;&lt;/h4&gt;

&lt;p&gt;As a Wisconsinite transplanted into the highest density of left-leaning voters in the country (District of Columbia) I&amp;rsquo;ve heard from several friends over the weeks in the aftermath of the US presidential election that voters in my home state should shoulder responsibility for contributing to Donald Trump winning an electoral majority.&lt;/p&gt;

&lt;p&gt;The &amp;ldquo;winner-take-all&amp;rdquo; basis in which electoral votes are allocated means the margin of victory in each state is null - extra votes don&amp;rsquo;t matter - which contributes to an outcome in which a winning candidate can have fewer total votes than another nominee.&lt;/p&gt;

&lt;h4 id=&#34;big-idea&#34;&gt;Big Idea&lt;/h4&gt;

&lt;p&gt;The urban/rural divide has been a popular explanation for Donald Trump&amp;rsquo;s electoral victory in the 2016 presidential election. Does this theory explain why Trump won Wisconsin and Clinton won Minnesota?&lt;/p&gt;

&lt;p&gt;This post seeks to explore this idea. First, a bit of background. These two Midwestern neighbors have striking &lt;a href=&#34;http://www.indexmundi.com/facts/united-states/quick-facts/compare/wisconsin.minnesota&#34;&gt;population, demographic, and social indicator similarities&lt;/a&gt;. Recent gubernatorial and congressional elections in both states have resulted in major party shifts. The policies of Wisconsin&amp;rsquo;s Republican governor Scott Walker and Minnesota&amp;rsquo;s Democratic governor Mark Dayton and their impact on state success has inspired &lt;a href=&#34;https://www.google.com/#q=wisconsin+and+minnesota+government&#34;&gt;several comparisons and juxtaposed analyses&lt;/a&gt;. While each state has elected Republican or Independent candidates as governors in the last few decades, the Democratic nominee has won each state in 7 straight presidential elections from 1988 to 2012.&lt;/p&gt;

&lt;p&gt;Let&amp;rsquo;s try to unpack the voting results in each state in 2016.&lt;/p&gt;

&lt;h4 id=&#34;wisconsin-voting-results&#34;&gt;Wisconsin Voting Results&lt;/h4&gt;

&lt;p&gt;I started this analysis using Julia Silge&amp;rsquo;s &lt;a href=&#34;http://juliasilge.com/blog/Election-Mapping/&#34;&gt;Utah Election Mapping&lt;/a&gt; script, then supplemented these analyses with urban and rural county population numbers from the 2010 Census. First, I loaded the R package libraries. Next, I read in the county level 2016 presidential election results and 2010 census data:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(readr)
library(choroplethr)
library(choroplethrMaps)
library(ggplot2)
library(ggthemes)
library(RColorBrewer)
library(gridExtra)
library(dplyr)
library(stringr)
library(tidyr)
library(extrafont)
extrafont::loadfonts(quiet = TRUE)

all_results &amp;lt;- read_csv(&amp;quot;https://raw.githubusercontent.com/mkearney/presidential_election_county_results_2016/master/pres16results.csv&amp;quot;)

urban &amp;lt;- read.table(&amp;quot;http://www2.census.gov/geo/docs/reference/ua/PctUrbanRural_County.txt&amp;quot;,
                  header=TRUE,sep=&amp;quot;,&amp;quot;, colClasses = &amp;quot;character&amp;quot;)
urban$fips &amp;lt;- paste0(urban$STATE,urban$COUNTY)
urban &amp;lt;- urban %&amp;gt;% select(POP_COU, POPPCT_URBAN, fips)
urban[,1:2] &amp;lt;- sapply(urban[,1:2], as.numeric)
all_results &amp;lt;- left_join(all_results,urban)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Once the data is read and joined together through the &lt;code&gt;fips&lt;/code&gt; code in each data set, we can subset &lt;code&gt;all_results&lt;/code&gt; to determine the percent of votes allocated for the two major party candidates, as well as the two most popular candidates from alternative parties:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;wisconsin &amp;lt;- all_results %&amp;gt;% 
  filter(str_detect(fips, &amp;quot;^55&amp;quot;))
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;wisconsin_spread &amp;lt;- wisconsin %&amp;gt;% 
  filter(cand %in% c(&amp;quot;Donald Trump&amp;quot;, &amp;quot;Hillary Clinton&amp;quot;, &amp;quot;Gary Johnson&amp;quot;, &amp;quot;Jill Stein&amp;quot;)) %&amp;gt;%
  select(fips, cand, pct) %&amp;gt;% 
  mutate(pct = pct * 100,
         region = as.numeric(fips)) %&amp;gt;%
  spread(cand, pct) %&amp;gt;%
  select(-fips)

wisconsin_spread
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## # A tibble: 72 × 5
##    region `Donald Trump` `Gary Johnson` `Hillary Clinton` `Jill Stein`
## *   &amp;lt;dbl&amp;gt;          &amp;lt;dbl&amp;gt;          &amp;lt;dbl&amp;gt;             &amp;lt;dbl&amp;gt;        &amp;lt;dbl&amp;gt;
## 1   55001       59.19660       2.048085          37.39982    0.7915306
## 2   55003       43.25006       2.296240          52.18269    1.7663386
## 3   55005       60.38465       3.224660          35.00489    0.7506440
## 4   55007       43.46223       1.959751          52.18628    1.9492150
## 5   55009       52.70085       3.907543          41.85040    1.0753194
## 6   55011       58.50311       3.149834          36.56986    1.0692097
## 7   55013       62.07134       2.626448          33.81122    0.7684367
## 8   55015       58.06122       3.980476          36.45238    0.7718794
## 9   55017       56.91589       3.835277          37.73315    0.8388675
## 10  55019       63.81016       3.291999          31.18541    0.7897845
## # ... with 62 more rows
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now that our data has been reshaped, we can further subset by candidate to create county-level voting maps, using Ari Lamstein&amp;rsquo;s &lt;a href=&#34;https://cran.r-project.org/web/packages/choroplethr/index.html&#34;&gt;choroplethr&lt;/a&gt; package.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;wisconsin_spread$value &amp;lt;- wisconsin_spread$`Donald Trump`
choro1 = CountyChoropleth$new(wisconsin_spread)
choro1$set_zoom(&amp;quot;wisconsin&amp;quot;)
choro1$title = &amp;quot;Donald Trump&amp;quot;
choro1$set_num_colors(1)
choro1$ggplot_polygon = geom_polygon(aes(fill = value), color = NA)
choro1$ggplot_scale = scale_fill_gradientn(name = &amp;quot;Percent&amp;quot;, 
                                           colours = brewer.pal(8, &amp;quot;Reds&amp;quot;))

wisconsin_spread$value &amp;lt;- wisconsin_spread$`Hillary Clinton`
choro2 = CountyChoropleth$new(wisconsin_spread)
choro2$set_zoom(&amp;quot;wisconsin&amp;quot;)
choro2$title = &amp;quot;Hillary Clinton&amp;quot;
choro2$set_num_colors(1)
choro2$ggplot_polygon = geom_polygon(aes(fill = value), color = NA)
choro2$ggplot_scale = scale_fill_gradientn(name = &amp;quot;Percent&amp;quot;, 
                                           colours = brewer.pal(8, &amp;quot;Blues&amp;quot;))

wisconsin_spread$value &amp;lt;- wisconsin_spread$`Gary Johnson`
choro3 = CountyChoropleth$new(wisconsin_spread)
choro3$set_zoom(&amp;quot;wisconsin&amp;quot;)
choro3$title = &amp;quot;Gary Johnson&amp;quot;
choro3$set_num_colors(1)
choro3$ggplot_polygon = geom_polygon(aes(fill = value), color = NA)
choro3$ggplot_scale = scale_fill_gradientn(name = &amp;quot;Percent&amp;quot;, 
                                           colours = brewer.pal(8, &amp;quot;Purples&amp;quot;))

wisconsin_spread$value &amp;lt;- wisconsin_spread$`Jill Stein`
choro4 = CountyChoropleth$new(wisconsin_spread)
choro4$set_zoom(&amp;quot;wisconsin&amp;quot;)
choro4$title = &amp;quot;Jill Stein&amp;quot;
choro4$set_num_colors(1)
choro4$ggplot_polygon = geom_polygon(aes(fill = value), color = NA)
choro4$ggplot_scale = scale_fill_gradientn(name = &amp;quot;Percent&amp;quot;, 
                                           colours = brewer.pal(8, &amp;quot;Greens&amp;quot;))

grid.arrange(choro1$render() + theme(text=element_text(family=&amp;quot;DejaVu Sans Mono&amp;quot;)), 
             choro2$render() + theme(text=element_text(family=&amp;quot;DejaVu Sans Mono&amp;quot;)), 
             choro3$render() + theme(text=element_text(family=&amp;quot;DejaVu Sans Mono&amp;quot;)), 
             choro4$render() + theme(text=element_text(family=&amp;quot;DejaVu Sans Mono&amp;quot;)), ncol = 2, nrow =2)
&lt;/code&gt;&lt;/pre&gt;

&lt;div&gt;&lt;img src=&#34;https://mikeleeco.github.io/img/figure/source/2016-12-26-wisconsin-presidential-election-results/Wisconsin Presidential Election Results by County-1.png&#34; title=&#34;plot of chunk Wisconsin Presidential Election Results by County&#34; alt=&#34;plot of chunk Wisconsin Presidential Election Results by County&#34;  style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/div&gt;

&lt;p&gt;A bar graph more accurately displays the results by candidate. Wisconsin&amp;rsquo;s 10 electoral votes were decided by only 27257 votes! That is a really small margin.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;votes &amp;lt;- wisconsin %&amp;gt;%
  filter(cand %in% c(&amp;quot;Donald Trump&amp;quot;, &amp;quot;Hillary Clinton&amp;quot;, &amp;quot;Gary Johnson&amp;quot;,&amp;quot;Jill Stein&amp;quot;)) %&amp;gt;%
  mutate(cand = factor(cand, levels = c(&amp;quot;Donald Trump&amp;quot;, &amp;quot;Hillary Clinton&amp;quot;, &amp;quot;Gary Johnson&amp;quot;,&amp;quot;Jill Stein&amp;quot;))) %&amp;gt;%
  group_by(cand) %&amp;gt;%
  summarise(sum = sum(votes))

ggplot(votes, aes(cand, sum, fill = cand)) +
  geom_bar(stat = &amp;quot;identity&amp;quot;, alpha = 0.8) +
  theme_tufte(base_family = &amp;quot;DejaVu Sans Mono&amp;quot;) +
  scale_fill_manual(values = c(&amp;quot;red3&amp;quot;, &amp;quot;navyblue&amp;quot;, &amp;quot;#6A51A3&amp;quot;,&amp;quot;darkgreen&amp;quot;)) +
  theme(legend.position=&amp;quot;none&amp;quot;) +
  labs(title = &amp;quot;Total Votes Cast in Wisconsin&amp;quot;, y = &amp;quot;Number of votes&amp;quot;, x = NULL)
&lt;/code&gt;&lt;/pre&gt;

&lt;div&gt;&lt;img src=&#34;https://mikeleeco.github.io/img/figure/source/2016-12-26-wisconsin-presidential-election-results/Wisconsin Presidential Election Results Bar Chart-1.png&#34; title=&#34;plot of chunk Wisconsin Presidential Election Results Bar Chart&#34; alt=&#34;plot of chunk Wisconsin Presidential Election Results Bar Chart&#34;  style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/div&gt;

&lt;h4 id=&#34;wisconsin-and-minnesota-voting-results&#34;&gt;Wisconsin and Minnesota Voting Results&lt;/h4&gt;

&lt;p&gt;To get a better sense of how the results compare, lets perform the same analyses using both Wisconsin and Minnesota data.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;minnesotawisconsin &amp;lt;- all_results %&amp;gt;% 
  filter(str_detect(fips, c(&amp;quot;^55&amp;quot;)) | str_detect(fips, c(&amp;quot;^27&amp;quot;)))
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;minnesotawisconsin_spread &amp;lt;- minnesotawisconsin %&amp;gt;% 
  filter(cand %in% c(&amp;quot;Donald Trump&amp;quot;, &amp;quot;Hillary Clinton&amp;quot;, &amp;quot;Gary Johnson&amp;quot;, &amp;quot;Jill Stein&amp;quot;)) %&amp;gt;%
  select(fips, cand, pct) %&amp;gt;% 
  mutate(pct = pct * 100,
         region = as.numeric(fips)) %&amp;gt;%
  spread(cand, pct) %&amp;gt;%
  select(-fips)

minnesotawisconsin_spread$value &amp;lt;- minnesotawisconsin_spread$`Donald Trump`
choro1 = CountyChoropleth$new(minnesotawisconsin_spread)
choro1$set_zoom(c(&amp;quot;minnesota&amp;quot;,&amp;quot;wisconsin&amp;quot;))
choro1$title = &amp;quot;Donald Trump&amp;quot;
choro1$set_num_colors(1)
choro1$ggplot_polygon = geom_polygon(aes(fill = value), color = NA)
choro1$ggplot_scale = scale_fill_gradientn(name = &amp;quot;Percent&amp;quot;, 
                                           colours = brewer.pal(8, &amp;quot;Reds&amp;quot;))

minnesotawisconsin_spread$value &amp;lt;- minnesotawisconsin_spread$`Hillary Clinton`
choro2 = CountyChoropleth$new(minnesotawisconsin_spread)
choro2$set_zoom(c(&amp;quot;minnesota&amp;quot;,&amp;quot;wisconsin&amp;quot;))
choro2$title = &amp;quot;Hillary Clinton&amp;quot;
choro2$set_num_colors(1)
choro2$ggplot_polygon = geom_polygon(aes(fill = value), color = NA)
choro2$ggplot_scale = scale_fill_gradientn(name = &amp;quot;Percent&amp;quot;, 
                                           colours = brewer.pal(8, &amp;quot;Blues&amp;quot;))

minnesotawisconsin_spread$value &amp;lt;- minnesotawisconsin_spread$`Gary Johnson`
choro3 = CountyChoropleth$new(minnesotawisconsin_spread)
choro3$set_zoom(c(&amp;quot;minnesota&amp;quot;,&amp;quot;wisconsin&amp;quot;))
choro3$title = &amp;quot;Gary Johnson&amp;quot;
choro3$set_num_colors(1)
choro3$ggplot_polygon = geom_polygon(aes(fill = value), color = NA)
choro3$ggplot_scale = scale_fill_gradientn(name = &amp;quot;Percent&amp;quot;, 
                                           colours = brewer.pal(8, &amp;quot;Purples&amp;quot;))

minnesotawisconsin_spread$value &amp;lt;- minnesotawisconsin_spread$`Jill Stein`
choro4 = CountyChoropleth$new(minnesotawisconsin_spread)
choro4$set_zoom(c(&amp;quot;minnesota&amp;quot;,&amp;quot;wisconsin&amp;quot;))
choro4$title = &amp;quot;Jill Stein&amp;quot;
choro4$set_num_colors(1)
choro4$ggplot_polygon = geom_polygon(aes(fill = value), color = NA)
choro4$ggplot_scale = scale_fill_gradientn(name = &amp;quot;Percent&amp;quot;, 
                                           colours = brewer.pal(8, &amp;quot;Greens&amp;quot;))

grid.arrange(choro1$render() + theme(text=element_text(family=&amp;quot;DejaVu Sans Mono&amp;quot;)), 
             choro2$render() + theme(text=element_text(family=&amp;quot;DejaVu Sans Mono&amp;quot;)), 
             choro3$render() + theme(text=element_text(family=&amp;quot;DejaVu Sans Mono&amp;quot;)), 
             choro4$render() + theme(text=element_text(family=&amp;quot;DejaVu Sans Mono&amp;quot;)), ncol = 2, nrow =2)
&lt;/code&gt;&lt;/pre&gt;

&lt;div&gt;&lt;img src=&#34;https://mikeleeco.github.io/img/figure/source/2016-12-26-wisconsin-presidential-election-results/Wisconsin and Minnesota Presidential Election Results by County-1.png&#34; title=&#34;plot of chunk Wisconsin and Minnesota Presidential Election Results by County&#34; alt=&#34;plot of chunk Wisconsin and Minnesota Presidential Election Results by County&#34;  style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/div&gt;

&lt;p&gt;Mapping the allocation of votes by county shows Wisconsin and Minnesota have very similar county-level maps. Each has strong results favoring Clinton in major metropolitan areas, including Milwaukee, Madison, and Minneapolis/St Paul. Based solely on each state&amp;rsquo;s map, I&amp;rsquo;d posit that Minnesota seems the more likely Trump-majority. This perspective is deceiving though, as the distribution of votes by county is skewed. Each map displays the percent of votes for each candidate by county, neglecting the county&amp;rsquo;s total votes. More than 78 percent of Menominee County, WI voters selected Hilary Clinton, resulting in Northeastern Wisconsin&amp;rsquo;s dark blue polygon, but totaled only 1279 votes.&lt;/p&gt;

&lt;p&gt;Lets break this down further by exploring the allocation of votes by county.&lt;/p&gt;

&lt;h3 id=&#34;vote-distributions-by-county&#34;&gt;Vote Distributions by County&lt;/h3&gt;

&lt;p&gt;Focusing on the two major candidates, the two states also have similar vote distributions. Each of these figures displays the percentage of votes for Donald Trump (red) and Hilary Clinton (blue), with each bubble sized by percentage of total state vote, organized by the percentage of votes for Donald Trump.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;minnesota &amp;lt;- subset(minnesotawisconsin, st==&amp;quot;MN&amp;quot;)
minnesota$votePct &amp;lt;- (minnesota$votes/sum(minnesota$votes)) * 100
minnesota &amp;lt;- minnesota %&amp;gt;% arrange(desc(votes))
vals = minnesota[ minnesota$cand == &#39;Donald Trump&#39;, ]
minnesota$county &amp;lt;- factor(minnesota$county, levels = rev(vals$county))
minnesotaSubset &amp;lt;- subset(minnesota, cand %in% c(&amp;quot;Donald Trump&amp;quot;, &amp;quot;Hillary Clinton&amp;quot;))
mnScatter &amp;lt;- ggplot(minnesotaSubset, aes(county, votePct,color = cand)) +
  geom_point(aes(size = votes)) +
  scale_y_continuous(limits=c(0,15)) +
  theme_tufte(base_family = &amp;quot;DejaVu Sans Mono&amp;quot;) +
  scale_color_manual(values = c(&amp;quot;red3&amp;quot;, &amp;quot;navyblue&amp;quot;)) +
  scale_size_continuous(guide = FALSE) +
  labs(title = &amp;quot;Percentage of Total Votes Cast for Clinton and Trump By County&amp;quot;,
       subtitle = &amp;quot;Minnesota&amp;quot;,
       y = &amp;quot;Total Vote Percentage&amp;quot;,
       x = NULL) +
  theme(axis.text.x=element_blank(),
        axis.ticks.x=element_blank(),
        legend.title = element_blank(),
        plot.title =  element_text(size = 16),
        plot.subtitle =  element_text(size = 13))

wisconsin$votePct &amp;lt;- (wisconsin$votes/sum(wisconsin$votes)) * 100
wisconsin &amp;lt;- wisconsin %&amp;gt;% arrange(desc(votes))
vals = wisconsin[ wisconsin$cand == &#39;Donald Trump&#39;, ]
wisconsin$county &amp;lt;- factor(wisconsin$county, levels = rev(vals$county))
wisconsinSubset &amp;lt;- subset(wisconsin, cand %in% c(&amp;quot;Donald Trump&amp;quot;, &amp;quot;Hillary Clinton&amp;quot;))
wiScatter &amp;lt;- ggplot(wisconsinSubset, aes(county, votePct,color = cand)) +
  geom_point(aes(size = votes)) +
  scale_y_continuous(limits=c(0,15)) +
  theme_tufte(base_family = &amp;quot;DejaVu Sans Mono&amp;quot;) +
  scale_color_manual(values = c(&amp;quot;red3&amp;quot;, &amp;quot;navyblue&amp;quot;)) +
  scale_size_continuous(guide = FALSE) +
  labs(subtitle = &amp;quot;Wisconsin&amp;quot;,
       y = &amp;quot;Total Vote Percentage&amp;quot;,
       x = &amp;quot;County (ordered by Total Vote Percentage\n for Donald Trump (smallest to largest))&amp;quot;) +
  theme(axis.text.x=element_blank(),
        axis.ticks.x=element_blank(),
        legend.title = element_blank(),
        plot.title = element_text(size = 20),
        plot.subtitle = element_text(size = 13))

grid.arrange(mnScatter,wiScatter,ncol=1)
&lt;/code&gt;&lt;/pre&gt;

&lt;div&gt;&lt;img src=&#34;https://mikeleeco.github.io/img/figure/source/2016-12-26-wisconsin-presidential-election-results/scatter plotting-1.png&#34; title=&#34;plot of chunk scatter plotting&#34; alt=&#34;plot of chunk scatter plotting&#34;  style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/div&gt;

&lt;p&gt;Two things of note from these figures:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;The county with Minnesota&amp;rsquo;s most votes significantly backed Clinton over Trump (14.7% and 6.6% of the total votes cast in the state respectively). Meanwhile, the top-voting Wisconsin&amp;rsquo;s county also garnered significant support for Clinton over Trump, but contributed only 9.8% and 4.3% of the total votes cast in the state respectively.&lt;/li&gt;
&lt;li&gt;Trump earned more votes than Clinton in 7 of Wisconsin&amp;rsquo;s 10 largest counties, including Waukesha - the third largest (4.9% and 2.7% of the total votes cast in the state respectively). Only 4 out of the top 10 most populous counties in Minnesota favored Trump.
&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The above figure seems to imply that the counties with larger populations in each state had a significant impact on each state&amp;rsquo;s victor; while most Wisconsin counties favored Trump, most Minnesota counties favored Clinton. Perhaps different levels of urban density might result in a better explanation?&lt;/p&gt;

&lt;p&gt;The 2010 Census &lt;a href=&#34;https://www.whitehouse.gov/sites/default/files/omb/assets/fedreg_2010/06282010_metro_standards-Complete.pdf&#34;&gt;breaks up metropolitan areas&lt;/a&gt; into segments: small, medium, and large. An area must have a population of at least 50,000 to be considered an urbanized metropolitan area, and is further separated if it&amp;rsquo;s population is greater than 250,000. For this analysis, small metropolitan areas consist of those ranging in population from 50,000 to 250,000, while populations greater than 250,000 are combined into one category.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;minnesotawisconsin &amp;lt;- all_results %&amp;gt;% 
  filter(str_detect(fips, c(&amp;quot;^55&amp;quot;)) | str_detect(fips, c(&amp;quot;^27&amp;quot;)))

minnesotawisconsin$urbanClass &amp;lt;- ifelse(minnesotawisconsin$POP_COU &amp;lt; 50000, &amp;quot;Not a Metropolitan Area&amp;quot;,
                                 ifelse(minnesotawisconsin$POP_COU &amp;gt; 50000 &amp;amp; minnesotawisconsin$POP_COU &amp;lt; 250000,
                                        &amp;quot;Small Metropolitan Area&amp;quot;,&amp;quot;Medium to Large Metropolitan Area&amp;quot;))
# Quick idiot check to make sure our ifelse statement didn&#39;t go awry
table(round(minnesotawisconsin$POP_COU,-5), minnesotawisconsin$urbanClass)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;##          
##           Medium to Large Metropolitan Area Not a Metropolitan Area Small Metropolitan Area
##   0                                       0                     920                       0
##   1e+05                                   0                       0                     241
##   2e+05                                   0                       0                      69
##   3e+05                                   9                       0                       0
##   4e+05                                  16                       0                       0
##   5e+05                                  16                       0                       0
##   9e+05                                   7                       0                       0
##   1200000                                 9                       0                       0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;After a quick &lt;code&gt;table&lt;/code&gt; to ensure correct recoding of urban classification, I grouped the data by candidate, state, and urban classification to better isolate the voting distributions.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;minnesotawisconsin$urbanClass &amp;lt;- factor(minnesotawisconsin$urbanClass,
                                        levels = c(&amp;quot;Medium to Large Metropolitan Area&amp;quot;, &amp;quot;Small Metropolitan Area&amp;quot;, &amp;quot;Not a Metropolitan Area&amp;quot;))

mnwiUrban &amp;lt;- minnesotawisconsin %&amp;gt;%
  filter(cand %in% c(&amp;quot;Donald Trump&amp;quot;, &amp;quot;Hillary Clinton&amp;quot;, &amp;quot;Gary Johnson&amp;quot;, &amp;quot;Jill Stein&amp;quot;)) %&amp;gt;%
  mutate(cand = factor(cand, levels = c(&amp;quot;Donald Trump&amp;quot;, &amp;quot;Hillary Clinton&amp;quot;, &amp;quot;Gary Johnson&amp;quot;, &amp;quot;Jill Stein&amp;quot;),
                       labels = c(&amp;quot;Trump&amp;quot;, &amp;quot;Clinton&amp;quot;, &amp;quot;Johnson&amp;quot;, &amp;quot;Stein&amp;quot;))) %&amp;gt;%
  group_by(cand, st,urbanClass) %&amp;gt;%
  summarise(sumVotes = sum(votes), population = sum(POP_COU))

mnwiUrban &amp;lt;- mnwiUrban %&amp;gt;%
  group_by(st, urbanClass) %&amp;gt;%
  mutate(percent = sumVotes/sum(sumVotes))

mnwiUrban$st &amp;lt;- factor(mnwiUrban$st, levels = c(&amp;quot;MN&amp;quot;, &amp;quot;WI&amp;quot;), labels = c(&amp;quot;Minnesota&amp;quot;, &amp;quot;Wisconsin&amp;quot;))

p &amp;lt;- ggplot(mnwiUrban, aes(cand, sumVotes,fill = cand))  +
  geom_bar(stat = &amp;quot;identity&amp;quot;, alpha = 0.8) + 
  facet_grid(st ~ urbanClass) +
  theme_tufte(base_family = &amp;quot;DejaVu Sans Mono&amp;quot;) +
  scale_fill_manual(values = c(&amp;quot;red3&amp;quot;, &amp;quot;navyblue&amp;quot;, &amp;quot;#6A51A3&amp;quot;,&amp;quot;darkgreen&amp;quot;)) +
  theme(legend.position=&amp;quot;none&amp;quot;,
        strip.text.x = element_text(size = 12),
        strip.text.y = element_text(size = 14),
        plot.title =  element_text(size = 16)) +
  geom_text(aes(label=paste0(round(percent,3)*100,&amp;quot;%&amp;quot;)), nudge_y = 50000,family = &amp;quot;DejaVu Sans Mono&amp;quot;) +
  labs(title = &amp;quot;Distribution of Votes Cast in Minnesota and Wisconsin Counties By Urban Classification&amp;quot;, y = &amp;quot;Number of votes&amp;quot;, x = NULL) + 
  scale_y_continuous(limits=c(0,1000000))

## Add in some annotations - since we&#39;re facetting we need to make a dummy data.frame with the same factor levels and plot positions as those used in the figure
anns &amp;lt;- data.frame(cand = factor(&amp;quot;Gary Johnson&amp;quot;, levels = c(&amp;quot;Donald Trump&amp;quot;, &amp;quot;Hillary Clinton&amp;quot;, &amp;quot;Gary Johnson&amp;quot;, &amp;quot;Jill Stein&amp;quot;),
                                 labels = c(&amp;quot;Trump&amp;quot;, &amp;quot;Clinton&amp;quot;, &amp;quot;Johnson&amp;quot;, &amp;quot;Stein&amp;quot;)),
                   st = factor(&amp;quot;MN&amp;quot;, levels = c(&amp;quot;MN&amp;quot;, &amp;quot;WI&amp;quot;), labels = c(&amp;quot;Minnesota&amp;quot;, &amp;quot;Wisconsin&amp;quot;)),
                   sumVotes = 700000,
                   lab = &amp;quot;For each State and Urban Class:\nBar Height - Total Votes\n\n  Percent - Portion of votes&amp;quot;,
                   urbanClass = factor(&amp;quot;Not a Metropolitan Area&amp;quot;,levels = c(&amp;quot;Medium to Large Metropolitan Area&amp;quot;,
                                                                            &amp;quot;Small Metropolitan Area&amp;quot;, &amp;quot;Not a Metropolitan Area&amp;quot;)))

## Apply the annotations to the top right facet (i.e. Minnesota, Not a Metropolitan Area). Swoopy arrows are fun!
p + geom_text(data = anns,aes(label =lab), family = &amp;quot;DejaVu Sans Mono&amp;quot;, size = 3) +
  geom_curve(data=anns, aes(x=2.1, xend=1.5, y=690000, yend=100000), curvature=0.3, arrow=arrow(length=unit(0.03, &amp;quot;npc&amp;quot;))) +
  geom_curve(data=anns, aes(x=2.4, xend=3, y=580000, yend=110000), curvature=-0.3, arrow=arrow(length=unit(0.03, &amp;quot;npc&amp;quot;)))
&lt;/code&gt;&lt;/pre&gt;

&lt;div&gt;&lt;img src=&#34;https://mikeleeco.github.io/img/figure/source/2016-12-26-wisconsin-presidential-election-results/Presidential Election Results by Urban Area-1.png&#34; title=&#34;plot of chunk Presidential Election Results by Urban Area&#34; alt=&#34;plot of chunk Presidential Election Results by Urban Area&#34;  style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/div&gt;

&lt;p&gt;The data shows a sizable rural/urban divide in Minnesota &lt;strong&gt;and&lt;/strong&gt; Wisconsin. Both states voted for each candidate at nearly the exact same rate in medium/large and small metropolitan areas. The major difference is how the population in each state is distributed:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;mnwiUrban %&amp;gt;%
    select(st,urbanClass, sumVotes, population) %&amp;gt;%
    group_by(st,urbanClass) %&amp;gt;%
    summarise(total = sum(sumVotes), metroPopulationTotal = unique(population)) %&amp;gt;%
    mutate(stateVoteAllocationByMetro = total/sum(total),
           populationPctByMetro = metroPopulationTotal/sum(metroPopulationTotal),
           votingPctByMetro = total/metroPopulationTotal)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## Source: local data frame [6 x 7]
## Groups: st [2]
## 
##          st                        urbanClass   total metroPopulationTotal stateVoteAllocationByMetro populationPctByMetro votingPctByMetro
##      &amp;lt;fctr&amp;gt;                            &amp;lt;fctr&amp;gt;   &amp;lt;int&amp;gt;                &amp;lt;dbl&amp;gt;                      &amp;lt;dbl&amp;gt;                &amp;lt;dbl&amp;gt;            &amp;lt;dbl&amp;gt;
## 1 Minnesota Medium to Large Metropolitan Area 1318717              2390461                  0.4644240            0.4506966        0.5516580
## 2 Minnesota           Small Metropolitan Area  854434              1579726                  0.3009134            0.2978409        0.5408748
## 3 Minnesota           Not a Metropolitan Area  666317              1333738                  0.2346626            0.2514625        0.4995861
## 4 Wisconsin Medium to Large Metropolitan Area  972116              1825699                  0.3318823            0.3210310        0.5324624
## 5 Wisconsin           Small Metropolitan Area 1411946              2766790                  0.4820411            0.4865125        0.5103192
## 6 Wisconsin           Not a Metropolitan Area  545037              1094497                  0.1860767            0.1924564        0.4979794
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;While the highest portion of votes in Minnesota came from counties defined as medium and large metropolitan areas (46.4%), those defined as small metropolitan areas contributed the most votes in Wisconsin (48.2%). These voting distributions match up nicely with the percentage of each state&amp;rsquo;s population by metropolitan area, as seen in the two variables &lt;code&gt;stateVoteAllocationByMetro&lt;/code&gt; and &lt;code&gt;populationPctByMetro&lt;/code&gt; - these distributions contributed to the outcome of each state&amp;rsquo;s election. The rate at which different types of urban areas supported a particular candidate is nearly identical between Minnesota and Wisconsin.&lt;/p&gt;

&lt;h4 id=&#34;conclusion&#34;&gt;Conclusion&lt;/h4&gt;

&lt;p&gt;While there are major differences in how rural and urban voters supported particular candidates, this division is not unique to states that cracked the &amp;ldquo;Midwestern Blue-State Firewall&amp;rdquo; in the 2016 presidential election. In Minnesota and Wisconsin, larger metropolitan areas voted strongly in favor of Clinton, while smaller and non-urban areas strongly favored Trump. Further exploration is necessary to make more granular conclusions, but in these two states the differing distributions of populations into small and medium/large metropolitan areas may help explain each candidate&amp;rsquo;s victory.&lt;/p&gt;

&lt;h4 id=&#34;next-steps&#34;&gt;Next Steps&lt;/h4&gt;

&lt;p&gt;Data with eligible-voter populations and demographic information at the county level might further supplement this exploration by providing a more detailed picture of rural and urban voters beyond raw population and vote totals. Outlets such as &lt;a href=&#34;http://fivethirtyeight.com/features/why-fivethirtyeight-gave-trump-a-better-chance-than-almost-anyone-else/&#34;&gt;FiveThirtyEight&lt;/a&gt; have used this type of granular data to inform predictive forecasts of elections. Thoughts or questions about the post? Contact me on &lt;a href=&#34;https://twitter.com/mikeleeco&#34;&gt;twitter&lt;/a&gt; or leave a message in the comments section.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>NBA Draft Odds Plot</title>
      <link>https://mikeleeco.github.io/posts/2016-06-01-NBA-Draft-Odds-Plot/</link>
      <pubDate>Wed, 01 Jun 2016 00:00:00 +0000</pubDate>
      <author>mdlee12@gmail.com (Michael Lee)</author>
      <guid>https://mikeleeco.github.io/posts/2016-06-01-NBA-Draft-Odds-Plot/</guid>
      <description>&lt;p&gt;&lt;strong&gt;Original Source&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;I was scrolling twitter and noticed this tweet from David Sparks - Director of Basketball Analytics for the Boston Celtics:&lt;/p&gt;

&lt;p&gt;&lt;blockquote class=&#34;twitter-tweet&#34; align=&#34;center&#34; data-lang=&#34;en&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;With thanks to &lt;a href=&#34;https://twitter.com/hadleywickham&#34;&gt;@hadleywickham&lt;/a&gt;, &lt;a href=&#34;https://twitter.com/hrbrmstr&#34;&gt;@hrbrmstr&lt;/a&gt;, and &lt;a href=&#34;https://twitter.com/ColorBrewer&#34;&gt;@ColorBrewer&lt;/a&gt;. &lt;a href=&#34;https://twitter.com/hashtag/rstats?src=hash&#34;&gt;#rstats&lt;/a&gt; &lt;a href=&#34;https://t.co/hjX39Xhi4P&#34;&gt;https://t.co/hjX39Xhi4P&lt;/a&gt; &lt;a href=&#34;https://t.co/XD27alzwNI&#34;&gt;https://t.co/XD27alzwNI&lt;/a&gt;&lt;/p&gt;&amp;mdash; David Sparks (@dsparks) &lt;a href=&#34;https://twitter.com/dsparks/status/723497233988096004&#34;&gt;April 22, 2016&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;With his obligatory shoutouts to Hadley Wickham and BoB Rudis, I felt compelled to reproduce the plot in RStudio and get some ggplot2 code out there open-sourcing his work.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Package Dependencies and Data&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The data was generated using simulations of the NBA Draft lottery, which resulted in some peculiar distributions compared to the &lt;a href=&#34;https://en.wikipedia.org/wiki/2016_NBA_draft&#34;&gt;raw lottery odds&lt;/a&gt;. I fudged some of the data based on how it looked in the plot - not much I can do about that since there wasn&amp;rsquo;t anything programmatically to work from there! &lt;code&gt;¯\_(ツ)_/¯&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;#devtools::install_github(&amp;quot;hadley/ggplot2&amp;quot;)
#devtools::install_github(&amp;quot;hadley/tidyr&amp;quot;)
library(ggplot2)
library(tidyr)
library(RCurl)
library(RColorBrewer)
dataurl &amp;lt;- &#39;https://gist.githubusercontent.com/mikeleeco/268429d0b4019ec30c4e547c16d7f766/raw/afa955af265d14a2f72780e4e0b87ffe469c0109/odds.csv&#39;
data &amp;lt;- getURL(dataurl)                
odds &amp;lt;- read.csv(textConnection(data))
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;Data Cleanup&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The tidyr package allows us to reshape our data between long and wide formats, RColorBrewer helps generate a fluid color pallete for our plot, and RCurl assists in sourcing the data from &lt;a href=&#34;https://gist.github.com/mikeleeco/268429d0b4019ec30c4e547c16d7f766#file-odds-csv&#34;&gt;my gist&lt;/a&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;odds &amp;lt;- gather(odds, X)
odds[,2] &amp;lt;- substring(odds[,2], 2)
colnames(odds) &amp;lt;- c(&amp;quot;Team&amp;quot;,&amp;quot;Pick&amp;quot;,&amp;quot;Probability&amp;quot;)
odds$Pick &amp;lt;- as.numeric(odds$Pick)
odds$Team &amp;lt;- as.character(odds$Team)
odds$Team &amp;lt;- factor(odds$Team, levels = odds[1:14,1])
odds$Team &amp;lt;- factor(odds$Team, levels=rev(levels(odds$Team)))
odds$Pick &amp;lt;- factor(odds$Pick, levels = 1:14)
getPalette &amp;lt;- colorRampPalette(brewer.pal(11, &amp;quot;Spectral&amp;quot;))(14)
odds$Probability &amp;lt;- ifelse(is.na(odds$Probability),0,odds$Probability)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The &lt;code&gt;colorRampPallete&lt;/code&gt; and &lt;code&gt;brewer.pal&lt;/code&gt; functions expands the &amp;ldquo;Spectral&amp;rdquo; color pallete from 11 to 14 colors, and we&amp;rsquo;ve organized our Team y-axis to be leveled in order of likelihood of winning the top pick - without factoring in the projections that were used in the @celtics figure.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;The Custom Plot Theme&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Now that we&amp;rsquo;ve prepared our data, we can get to customizing the plot!&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;g &amp;lt;- ggplot(odds, aes(Team))
g &amp;lt;- g + geom_bar(aes(x = Team, y = Probability, fill = Pick),alpha=0.9,stat=&amp;quot;identity&amp;quot;)  
g &amp;lt;- g + scale_y_continuous(breaks = seq(0, 1, by = 0.1),1,name=&amp;quot;Probability&amp;quot;, labels=scales::percent) +
    labs(x=NULL, y=NULL, title=&amp;quot;2016 NBA Draft Lottery Probabilities&amp;quot;,
         subtitle = &amp;quot;After tiebreakers and trades. Trades with protections are indicated by a black border, and the receiving team is named. Based on 100,000 simulations&amp;quot;,
         caption=&amp;quot;Reproduced by: @mikeleeco                  Original: @dsparks                  Source: http://www.nba.com/celtics/news/sidebar/2016-draft-lottery-qa&amp;quot;) +
    coord_flip() +
    scale_fill_manual(values = getPalette)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The development version of &lt;a href=&#34;https://github.com/hadley/ggplot2&#34;&gt;ggplot2 on github&lt;/a&gt; features numerous additions including ecpanded arguments for &lt;code&gt;labs&lt;/code&gt; such as subtitles and captions. Check out &lt;code&gt;?ggplot2::labs&lt;/code&gt; or &lt;a href=&#34;https://rud.is/b/2016/03/16/supreme-annotations/&#34;&gt;Bob Rudis&amp;rsquo; post&lt;/a&gt; on his contribution to ggplot2.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;g &amp;lt;- g  + theme(
  axis.text.x = element_text(size=14,margin=margin(b=5),color = &amp;quot;black&amp;quot;),
  axis.title.x = element_text(size=16),
  plot.subtitle = element_text(size=14),
  plot.caption = element_text(size=16,margin = margin(t=20),face = &amp;quot;italic&amp;quot;, hjust = .5),
  axis.text.y = element_text(size=18,margin = margin(r=-40),colour = &amp;quot;black&amp;quot;),
  axis.ticks.y=element_blank(),
  axis.ticks.x=element_blank(),
  plot.title = element_text(size=30,margin = margin(b=10)),
  panel.border=element_blank(),
  panel.grid.major.x=element_line(color=&amp;quot;#2b2b2b&amp;quot;, linetype=&amp;quot;dotted&amp;quot;, size=0.15),
  panel.grid.major.y=element_blank(),
  legend.text = element_text(size=14),
  legend.title = element_text(size=18),
  legend.key = element_rect(fill=&amp;quot;#DCDCDC&amp;quot;,colour = &amp;quot;#DCDCDC&amp;quot;),
  legend.background = element_rect(fill=&amp;quot;#DCDCDC&amp;quot;),
  panel.background = element_rect(fill=&amp;quot;#DCDCDC&amp;quot;),
  plot.background = element_rect(fill=&amp;quot;#DCDCDC&amp;quot;)
)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;As seen in the theme here, the developtmental version of ggplot2 also features elements to customize the new caption and subtitle arguments. Things are looking pretty sharp!&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Annotations - Call for Help!&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The lottery data has been transformed into a customized plot; the only missing pieces are the transparent rectangular grobs indicating picks with trade implications. I tried a few different methods to programmatically assign labels over the rows in our dataset, none of which gave the desired final output. Instead I used brute force to place transparent rectangles and texts over the appropriate data blocks:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;g &amp;lt;- g + annotate(&amp;quot;text&amp;quot;, x = (13.45+12.55)/2, y = .6, alpha = 1,color=&amp;quot;black&amp;quot;, label=&amp;quot;to PHI&amp;quot;, size= rel(7)) +
            annotate(&amp;quot;rect&amp;quot;, xmin = 12.55, xmax = 13.45, ymin = .555, ymax = 1, alpha = .3,color=&amp;quot;black&amp;quot;) +
            annotate(&amp;quot;text&amp;quot;, x = (2.45+1.55)/2, y = .1, alpha = 1,color=&amp;quot;black&amp;quot;, label=&amp;quot;to PHX&amp;quot;, size= rel(7)) +
            annotate(&amp;quot;rect&amp;quot;, xmin = 1.55, xmax = 2.45, ymin = .021, ymax = 1, alpha = .3,color=&amp;quot;black&amp;quot;) +
            annotate(&amp;quot;text&amp;quot;, x = (7.45+6.55)/2, y = .95, alpha = 1,color=&amp;quot;black&amp;quot;, label=&amp;quot;to CHI &amp;gt;&amp;quot;, size= rel(7)) +
            annotate(&amp;quot;rect&amp;quot;, xmin = 6.55, xmax = 7.45, ymin = .999, ymax = 1, alpha = .3,color=&amp;quot;black&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;There has to be a more efficient method to do this! If you know of a better way please &lt;a href=&#34;http://www.twitter.com/mikeleeco&#34;&gt;contact me on twitter&lt;/a&gt; or create a &lt;a href=&#34;https://github.com/mikeleeco/mikeleeco.github.com/blob/master/_source/2016-06-01-NBA-Draft-Odds-Plot.Rmd&#34;&gt;pull request on this post&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Final product:&lt;/strong&gt;
&lt;div class=&#34;row&#34;&gt;&lt;img src=&#34;https://mikeleeco.github.io/img/draft_odds.png&#34; class=&#34;img-responsive center-block&#34;/&gt;&lt;/div&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>mikelee.co: Powered by RMarkdown, knitr, and Jekyll</title>
      <link>https://mikeleeco.github.io/posts/2016-05-24-mikeleeco-powered-by-rmarkdown/</link>
      <pubDate>Tue, 24 May 2016 00:00:00 +0000</pubDate>
      <author>mdlee12@gmail.com (Michael Lee)</author>
      <guid>https://mikeleeco.github.io/posts/2016-05-24-mikeleeco-powered-by-rmarkdown/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see &lt;a href=&#34;http://rmarkdown.rstudio.com&#34;&gt;http://rmarkdown.rstudio.com&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Spend a few months documenting code scripts in RStudio and you&amp;rsquo;ll have surely seen those introductory lines numerous times.&lt;/p&gt;

&lt;p&gt;This is also a R code script. And a markdown document. And an HTML page. All of which are generated within one .Rmd document. My site had previously supported by Github Pages and Jekyll, and now my preferred statistical software tool will streamline my blogging process. I expect this to make the transition from idea, analyses, visualization, and blog post production much more seamless.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Inspiration and First Steps&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;I first heard about the ability to generate and serve files within R from a tweet from Brendan Rocks:&lt;/p&gt;

&lt;p&gt;&lt;blockquote class=&#34;twitter-tweet&#34; align=&#34;center&#34; data-lang=&#34;en&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;Post on my BARUG talk tonight: Blogging w/ &lt;a href=&#34;https://twitter.com/hashtag/rstats?src=hash&#34;&gt;#rstats&lt;/a&gt; &amp;amp; knitr-jekyll (all credit to &lt;a href=&#34;https://twitter.com/xieyihui&#34;&gt;@xieyihui&lt;/a&gt;!) &lt;a href=&#34;https://t.co/PsGXbyXZJa&#34;&gt;https://t.co/PsGXbyXZJa&lt;/a&gt; &lt;a href=&#34;https://t.co/eZycscbmup&#34;&gt;pic.twitter.com/eZycscbmup&lt;/a&gt;&lt;/p&gt;&amp;mdash; Brendan Rocks (@rocksbrendan) &lt;a href=&#34;https://twitter.com/rocksbrendan/status/656564982885146625&#34;&gt;October 20, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;This workflow blew my mind at the time (still does) and the post in which he explains the scaffolding is very useful. Check it out &lt;a href=&#34;https://brendanrocks.com/blogging-with-rmarkdown-knitr-jekyll/&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Adding in a &lt;a href=&#34;https://github.com/mikeleeco/mikeleeco.github.com/tree/master/_source/2016-05-24-mikeleeco-powered-by-rmarkdown.Rmd&#34;&gt;&lt;code&gt;_source&lt;/code&gt;&lt;/a&gt; directory to store .Rmd files allows   Yihui Xie&amp;rsquo;s &lt;a href=&#34;https://github.com/yihui/servr&#34;&gt;servr package&lt;/a&gt; the ability to render markdown documents in  &lt;a href=&#34;https://github.com/mikeleeco/mikeleeco.github.com/tree/master/_posts/2016-05-24-mikeleeco-powered-by-rmarkdown.md&#34;&gt;&lt;code&gt;_posts&lt;/code&gt;&lt;/a&gt;, which Jekyll converts to HTML - which is what you are reading now!&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Improving Syntax Highlighting&lt;/strong&gt; &lt;em&gt;(with updates!)&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The first part of this post was pretty trivial given my previous experience with both jekyll and knitr. Adjusting syntax highlighting was a bit of a hiccup. Out of the box, code blocks in divs were being generated using my highlighter (rouge) but were being rendered with an &amp;ldquo;r&amp;rdquo; in front like so:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;r&lt;/code&gt;&lt;code&gt;cat(paste(c(&amp;quot;This&amp;quot;,&amp;quot;drove&amp;quot;,&amp;quot;me&amp;quot;,&amp;quot;mental D:&amp;quot;),sep=&amp;quot; &amp;quot;))&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;## This drove me mental D:&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;An earlier version of this post detailed a method of updating syntax highlighting using redcarpet markdown and pygments - a soon to be deprecated syntax highlighter. Turns out I wasn&amp;rsquo;t the only one having this issue! After more than a few missteps, and applying the advice from &lt;a href=&#34;https://github.com/jekyll/jekyll/issues/1342&#34;&gt;this post&lt;/a&gt;, make sure you have both jekyll &lt;a href=&#34;https://rubygems.org/pages/download&#34;&gt;ruby&lt;/a&gt; installed and updated! After updating your site infrastructure, add a css template with formatting options - such as my &lt;a href=&#34;https://github.com/mikeleeco/mikeleeco.github.com/tree/master/public/css/syntax.css&#34;&gt;&lt;code&gt;syntax.css&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Final Result&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;cat(paste(c(&amp;quot;Yay&amp;quot;,&amp;quot;for&amp;quot;,&amp;quot;making&amp;quot;,&amp;quot;life&amp;quot;,&amp;quot;easier!&amp;quot;),sep=&amp;quot; &amp;quot;))
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## Yay for making life easier!
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Look how great that looks! Lets see what a function looks like.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;devtools::install_github(&amp;quot;mdlee12/sabr&amp;quot;)
library(sabr)
sabr::woba_season
function (playerID = NULL, yearID = NULL, ...) 
{
    db &amp;lt;- lahman()
    woba_guts &amp;lt;- RSQLite::dbGetQuery(db, &amp;quot;SELECT * FROM wOBA_Table&amp;quot;)
    wobayear &amp;lt;- woba_guts[woba_guts$yearID == yearID, ]
    wobayear &amp;lt;- data.frame(wobayear)
    query &amp;lt;- paste(&amp;quot;SELECT GROUP_CONCAT(DISTINCT teamID) as teamID, 
                   SUM(H) as H, SUM([2B]) as DB, SUM([3B]) as TR,SUM(HR) as HR, 
                   SUM(AB) as AB, SUM(BB) as BB, SUM(IBB) as IBB, SUM(SF) as SF, 
                   SUM(SH) as SH, SUM(HBP) as HBP FROM Batting WHERE playerID = &#39;&amp;quot;, 
                   playerID, &amp;quot;&#39; AND yearID = &#39;&amp;quot;, yearID, &amp;quot;&#39;&amp;quot;, sep = &amp;quot;&amp;quot;)
    db &amp;lt;- lahman()
    query &amp;lt;- RSQLite::dbGetQuery(db, query)
    query &amp;lt;- as.data.frame(query)
    uBB &amp;lt;- wobayear$wobaBB * (query$BB - query$IBB)
    HBP &amp;lt;- wobayear$wobaHB * (query$HBP)
    DB &amp;lt;- wobayear$woba2B * (query$DB)
    TR &amp;lt;- wobayear$woba3B * (query$TR)
    HR &amp;lt;- wobayear$wobaHR * (query$HR)
    H &amp;lt;- wobayear$woba1B * (query$H - query$DB - query$TR - query$HR)
    AB &amp;lt;- query$AB
    BB &amp;lt;- query$BB
    IBB &amp;lt;- query$IBB
    SF &amp;lt;- query$SF
    SH &amp;lt;- query$SH
    PA &amp;lt;- query$PA
    woba &amp;lt;- (uBB + HBP + H + DB + TR + HR)/(AB + BB - IBB + SF + HBP)
    woba
}
&lt;/code&gt;&lt;/pre&gt;

&lt;div class=&#34;row&#34;&gt;&lt;div class=&#34;col-sm-6  col-sm-offset-3&#34;&gt;&lt;img src=&#34;http://i.imgur.com/Z0MX0qd.gif&#34; class=&#34;img-responsive center-block&#34;/&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;How about some numbers:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;6*9
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] 54
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;sabr::woba_season(&amp;quot;yountro01&amp;quot;,1982)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] 0.414997
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can also embed plots. For example:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;# Much plots. Such scatter.
plot(iris)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://mikeleeco.github.io/img/figure/source/2016-05-24-mikeleeco-powered-by-rmarkdown/unnamed-chunk-6-1.png&#34; title=&#34;plot of chunk unnamed-chunk-6&#34; alt=&#34;plot of chunk unnamed-chunk-6&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;More to come soon :D&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>sabr - R package</title>
      <link>https://mikeleeco.github.io/posts/2016-05-28-sabr-R-package/</link>
      <pubDate>Sun, 10 Apr 2016 00:00:00 +0000</pubDate>
      <author>mdlee12@gmail.com (Michael Lee)</author>
      <guid>https://mikeleeco.github.io/posts/2016-05-28-sabr-R-package/</guid>
      <description>

&lt;p&gt;The &lt;a href=&#34;https://github.com/mikeleeco/sabr/&#34;&gt;sabr package&lt;/a&gt; connects the Lahman SQL Database with functions used in calculating offensive performance in the MLB, namely wOBA. Created by Tom Tango and popularized in &lt;a href=&#34;http://www.insidethebook.com/woba.shtml&#34;&gt;The Book: Playing the Percentages in Baseball&lt;/a&gt;, wOBA uses yearly MLB performance to weigh offensive measures relative to league value. This package offers the following capabilities:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Retrieves the most up-to-date wOBA measures from 1871-2015&lt;/li&gt;
&lt;li&gt;Queries yearly and career offensive performance from the Lahman SQL database&lt;/li&gt;
&lt;li&gt;Calculates a player&amp;rsquo;s seasonal wOBA performance&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;installation&#34;&gt;Installation:&lt;/h2&gt;

&lt;p&gt;Download the latest development version from github:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;if (packageVersion(&amp;quot;devtools&amp;quot;) &amp;lt; 1.6) {
  install.packages(&amp;quot;devtools&amp;quot;)
}
devtools::install_github(&amp;quot;mdlee12/sabr&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;motivation&#34;&gt;Motivation:&lt;/h2&gt;

&lt;p&gt;wOBA is one of the best catch-all offensive performance statistics, but it&amp;rsquo;s formula is a bit convoluted since it requires 1) ten distinct rate stats and 2) weighted values based on a season&amp;rsquo;s run environment.&lt;/p&gt;

&lt;p&gt;For example, the wOBA formula for the 2013 season was:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;wOBA = (0.690 * uBB + 0.722 * HBP + 0.888 * (H - DB - TR - HR) + 1.271 * DB + 1.616 * TR + 2.101 * HR) / (AB + BB - IBB + SF + HBP)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Check out &lt;a href=&#34;http://www.fangraphs.com/library/offense/woba/&#34;&gt;Fangraphs&lt;/a&gt;&amp;rsquo; library for additional details.&lt;/p&gt;

&lt;h2 id=&#34;new-functions-with-0-2&#34;&gt;New Functions with 0.2:&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;wRAA_season : Returns a MLB player&amp;rsquo;s weighted Runs Above Average by yearID&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(sabr)
wRAA_season(&amp;quot;braunry02&amp;quot;,&amp;quot;2015&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] 23.89798
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;wRC_season : Returns a MLB player&amp;rsquo;s weighted Runs Created by yearID&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;wRC_season(&amp;quot;molitpa01&amp;quot;,&amp;quot;1991&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] 127.0164
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;wRCp_season : Returns a MLB player&amp;rsquo;s weighted Runs Created Plus by yearID&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;wRCp_season(&amp;quot;yountro01&amp;quot;,&amp;quot;1989&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] 152.5421
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;Full calculation details are in the &lt;a href=&#34;https://github.com/mdlee12/sabr/blob/master/vignettes/wOBA%20and%20wRC%2B%20calculation.Rmd&#34;&gt;wOBA and wRC+ calculation.Rmd file&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;wRCp_season makes a couple assumptions:&lt;/em&gt;
1. Park Factors are pulled from the Lahman Database - these are different from other sources
2. A player&amp;rsquo;s primary position is used to remove pitchers from the League Runs/Plate Appearance calculation&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;key-functions-from-0-1&#34;&gt;Key Functions from 0.1:&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;battingseason : Offensive seasonal performance by playerID and yearID&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;battingseason(&amp;quot;parrage01&amp;quot;,&amp;quot;2014&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;##    playerID yearID stints  teamID  AB  R   H DB TR HR RBI SB CS BB  SO IBB SF SH GIDP HBP
## 1 parrage01   2014      2 ARI,MIL 529 64 138 22  4  9  40  9  7 32 100   5  2  6   10   5
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;battingcareer : Offensive career performance by playerID by organized by season&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;battingcareer(&amp;quot;fieldpr01&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;##     playerID yearID stints teamID  AB   R   H DB TR HR RBI SB CS  BB  SO IBB SF SH GIDP HBP
## 1  fieldpr01   2005      1    MIL  59   2  17  4  0  2  10  0  0   2  17   0  1  0    0   0
## 2  fieldpr01   2006      1    MIL 569  82 154 35  1 28  81  7  2  59 125   5  8  0   17  12
## 3  fieldpr01   2007      1    MIL 573 109 165 35  2 50 119  2  2  90 121  21  4  0    9  14
## 4  fieldpr01   2008      1    MIL 588  86 162 30  2 34 102  3  2  84 134  19 10  0   12  12
## 5  fieldpr01   2009      1    MIL 591 103 177 35  3 46 141  2  3 110 138  21  9  0   14   9
## 6  fieldpr01   2010      1    MIL 578  94 151 25  0 32  83  1  0 114 138  17  1  0   12  21
## 7  fieldpr01   2011      1    MIL 569  95 170 36  1 38 120  1  1 107 106  32  6  0   17  10
## 8  fieldpr01   2012      1    DET 581  83 182 33  1 30 108  1  0  85  84  18  7  0   19  17
## 9  fieldpr01   2013      1    DET 624  82 174 36  0 25 106  1  1  75 117   5  4  0   20   9
## 10 fieldpr01   2014      1    TEX 150  19  37  8  0  3  16  0  0  25  24  11  1  0    5   2
## 11 fieldpr01   2015      1    TEX 613  78 187 28  0 23  98  0  0  64  88  14  5  0   21  11
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;woba_season : Returns a MLB player&amp;rsquo;s weighted On-Base Average by yearID&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;woba_season(&amp;quot;fieldpr01&amp;quot;,&amp;quot;2014&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] 0.3049516
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;lahman_search : Returns a player&amp;rsquo;s Lahman playerID using either:

&lt;ul&gt;
&lt;li&gt;nameFirst (Player First Name)&lt;/li&gt;
&lt;li&gt;nameLast (Player Last Name)&lt;/li&gt;
&lt;li&gt;nameGiven (Player Given Name)&lt;/li&gt;
&lt;li&gt;retroID (&lt;a href=&#34;http://www.retrosheet.org/retroID.htm&#34;&gt;Retrosheet&lt;/a&gt; ID)&lt;/li&gt;
&lt;li&gt;bbrefID (&lt;a href=&#34;http://www.baseball-reference.com/players/&#34;&gt;Baseball Reference&lt;/a&gt; ID)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;lahman_search(nameFirst = &amp;quot;Robin&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;##    playerID nameFirst nameLast         nameGiven  retroID   bbrefID
## 1 jenniro01     Robin Jennings Robin Christopher jennr001 jenniro01
## 2 roberro01     Robin  Roberts        Robin Evan rober102 roberro01
## 3 venturo01     Robin  Ventura        Robin Mark ventr001 venturo01
## 4 yountro01     Robin    Yount          Robin R. younr001 yountro01
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;lahman_search(nameLast = &amp;quot;Fielder&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;##    playerID nameFirst nameLast     nameGiven  retroID   bbrefID
## 1 fieldce01     Cecil  Fielder   Cecil Grant fielc001 fieldce01
## 2 fieldpr01    Prince  Fielder Prince Semien fielp001 fieldpr01
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;lahman_search(nameGiven = &amp;quot;Russell Oles&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;##    playerID nameFirst nameLast    nameGiven  retroID   bbrefID
## 1 branyru01   Russell  Branyan Russell Oles branr001 branyru01
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;lahman_search(retroID = &amp;quot;molip001&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;##    playerID nameFirst nameLast nameGiven  retroID   bbrefID
## 1 molitpa01      Paul  Molitor  Paul Leo molip001 molitpa01
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;lahman_search(bbrefID = &amp;quot;yostne01&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;##   playerID nameFirst nameLast       nameGiven  retroID  bbrefID
## 1 yostne01       Ned     Yost Edgar Frederick yoste001 yostne01
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;p&gt;Have a question, issue or suggestion? Create a pull request, file an issue, or feel free to contact me on &lt;a href=&#34;https://twitter.com/mikeleeco&#34;&gt;Twitter&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Visualizing Video Games Throughout History</title>
      <link>https://mikeleeco.github.io/posts/2015-06-10-video-games-interactive/</link>
      <pubDate>Wed, 10 Jun 2015 00:00:00 +0000</pubDate>
      <author>mdlee12@gmail.com (Michael Lee)</author>
      <guid>https://mikeleeco.github.io/posts/2015-06-10-video-games-interactive/</guid>
      <description>&lt;blockquote&gt;
&lt;p&gt;Call of Duty :: Frank Underwood // Frogger :: George Costanza // Shinobi :: Wu-Tang Clan // Super Nintendo &amp;amp; Sega Genesis :: &lt;a href=&#34;https://youtu.be/CHio4lLOhKc?t=2m32s&#34;&gt;???&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;
Video games have long infiltrated popular culture. This article will attempt to explain that reach. Inspired by FiveThirtyEight&#39;s great article &lt;a href=&#34;http://fivethirtyeight.com/features/designing-the-best-board-game-on-the-planet/&#34;&gt;&#34;Designing the Best Board Game on the Planet&#34;&lt;/a&gt;, I set out to extend this methodology to video games. The focus of 538&#39;s research related to a robust data set pulled from &lt;a href=&#34;http://boardgamegeek.com/&#34;&gt;BoardGameGeek&lt;/a&gt;, an exhaustive collection of board games contributed by it&#39;s passionate users. I set out to find a similar user-contributed dataset. and settled on the &lt;a href=&#34;https://www.mobygames.com/&#34;&gt;MobyGames&lt;/a&gt; video games database.

&lt;p&gt;
Created in 1999 by &lt;a href=&#34;https://www.mobygames.com/info/faq5&#34;&gt;Jim Leonard&lt;/a&gt; to catalogue titles and connect games to their developers and fans, the database has grown to nearly 50,000 games. Ratings, images, and other details are contributed by users. Though there has been management changes leading to some contributor vitriol in recent years, the site is on stable footing and recently surpassed 50,000 unique games.
&lt;/p&gt;

&lt;p&gt;&lt;h3&gt;Method&lt;/h3&gt;
&lt;p&gt;
Using the R package &amp;lsquo;rvest&amp;rsquo; I scraped the site&amp;rsquo;s complete game list &lt;a href=&#34;http://www.mobygames.com/browse/games/list-games/&#34;&gt;html table&lt;/a&gt;, then used each game&amp;rsquo;s URL to scrape additional game information from their profile pages. To avoid issues with replicate game titles the URL was used as a unique reference ID for each title - for example, &lt;b&gt;007: The World is Not Enough&lt;/b&gt; has &lt;a href=&#34;http://www.mobygames.com/game/007-the-world-is-not-enough&#34;&gt;three&lt;/a&gt; &lt;a href=&#34;http://www.mobygames.com/game/007-the-world-is-not-enough_&#34;&gt;unique&lt;/a&gt; &lt;a href=&#34;http://www.mobygames.com/game/007-the-world-is-not-enough__&#34;&gt;pages&lt;/a&gt; containing details for each system for which it was released. Each game&amp;rsquo;s profile follows a similar format which made it effective for scraping, but specific genres of games used atypical formatting, requiring a good deal of database cleansing. The guideline that 80% of the work with data involves cleaning is no expection here. We&amp;rsquo;re left with a database of 50,021 games. Check out the code I used to pull and clean the data on &lt;a href=&#34;https://github.com/mikeleeco/Mobygames-Scraper/blob/master/MobygamesScraper.R&#34;&gt;my Github page&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
Let&amp;rsquo;s dive into what the numbers tell us.
&lt;/p&gt;&lt;/p&gt;

&lt;p&gt;&lt;h3&gt;Ratings&lt;/h3&gt;
&lt;p&gt;
MobyGames aggregates two sources to formulate their video game ratings: users and critics. User ratings are determined on a 0 to 5 scale and are contributed by an individual&amp;rsquo;s subjective rating of a particular game. Critic ratings are reviews from magazines, entertainment websites, and other online video game forums. A weighted average of these individual critics formulate the site&amp;rsquo;s &amp;ldquo;MobyRank&amp;rdquo; score. For this article I gave equal importance to user and critic ratings to ascertain each game&amp;rsquo;s overall rating, simply averaging the two scores into one total rating. Of the 50,000+ games, a total of 9224 had either user or critics ratings, ranging in years from 1976-2015. In the scatterplot below you&amp;rsquo;ll see the combined Mobygames ratings by date of original publication.
&lt;/p&gt;
&lt;img src=&#34;https://mikeleeco.github.io/img/gamerank.png&#34; class=&#34;img-responsive center-block center-block&#34;&gt;&lt;/p&gt;

&lt;p&gt;

That looks pretty sharp, but in the spirit of video games, lets make it a bit more...8-bit.
&lt;/p&gt;
&lt;p&gt;
&lt;img src=&#34;https://mikeleeco.github.io/img/mean_game_ranking_2d.png&#34; class=&#34;img-responsive center-block&#34;&gt;

&lt;/p&gt;

&lt;p&gt;
As you can see, very little has changed in a video game&#39;s reception by year of distribution. There is a mild increase in ratings by year since video games came into prominence. This displays an interesting contrast compared to 538&#39;s article on board games, which described the possibility that recent years might be considered &#34;the golden age of serious board gaming.&#34; I&#39;d hypothesize that this is effect is due to the platform these entertainment options are consumed. Board games are easily compared; Settlers of Catan and Monopoly are using equal technology, though one is deemed of a higher quality sinced it&#39;s final product is more innovative in using similar tools. Video games are influenced by the effects of advances in technology. Objectively, you can&#39;t compare &lt;a href=&#34;https://www.mobygames.com/game/pong____&#34;&gt;Pong!&lt;/a&gt; to &lt;a href=&#34;https://www.mobygames.com/game/mario-tennis&#34;&gt;Mario Tennis&lt;/a&gt;; you have to consider the technology of the day. Keeping that in mind, below you&#39;ll see the top 11 games by the average user/critics score:
&lt;/p&gt;
&lt;p&gt;
&lt;p&gt;&lt;div class=&#34;table-responsive&#34;&gt;&lt;table class=&#34;table table-hover&#34;&gt;&lt;tr class=&#34;info&#34;&gt;&lt;th&gt;Title&lt;/th&gt;&lt;th&gt;Year&lt;/th&gt;&lt;th&gt;Publisher&lt;/th&gt;&lt;th&gt;Genre&lt;/th&gt;&lt;th&gt;Platform&lt;/th&gt;&lt;th&gt;Rating&lt;/th&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Bayonetta 2&lt;/td&gt;&lt;td&gt;2014&lt;/td&gt;&lt;td&gt;Nintendo of America Inc.&lt;/td&gt;&lt;td&gt;Action&lt;/td&gt;&lt;td&gt;Wii U&lt;/td&gt;&lt;td&gt;94.5&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Metroid Prime Trilogy&lt;/td&gt;&lt;td&gt;2009&lt;/td&gt;&lt;td&gt;Nintendo of America Inc., Nintendo of Europe GmbH&lt;/td&gt;&lt;td&gt;Action&lt;/td&gt;&lt;td&gt;Wii, Wii U&lt;/td&gt;&lt;td&gt;94.5&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Super Mario Galaxy 2&lt;/td&gt;&lt;td&gt;2010&lt;/td&gt;&lt;td&gt;Nintendo Co., Ltd., Nintendo of America Inc., Nintendo of Europe GmbH&lt;/td&gt;&lt;td&gt;Action&lt;/td&gt;&lt;td&gt;Wii, Wii U&lt;/td&gt;&lt;td&gt;94.5&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;ESPN NFL 2K5&lt;/td&gt;&lt;td&gt;2004&lt;/td&gt;&lt;td&gt;Global Star Software Inc., SEGA Europe Ltd., SEGA of America, Inc.&lt;/td&gt;&lt;td&gt;Sports&lt;/td&gt;&lt;td&gt;PlayStation 2, Xbox&lt;/td&gt;&lt;td&gt;93.75&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;World Series Baseball 2K3&lt;/td&gt;&lt;td&gt;2003&lt;/td&gt;&lt;td&gt;SEGA of America, Inc.&lt;/td&gt;&lt;td&gt;Sports&lt;/td&gt;&lt;td&gt;PlayStation 2, Xbox&lt;/td&gt;&lt;td&gt;93.75&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Final Fantasy X | X-2 HD Remaster&lt;/td&gt;&lt;td&gt;2013&lt;/td&gt;&lt;td&gt;Square Enix Co., Ltd., Square Enix, Inc.&lt;/td&gt;&lt;td&gt;Role-Playing (RPG)&lt;/td&gt;&lt;td&gt;PlayStation 3, PS Vita&lt;/td&gt;&lt;td&gt;93.5&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Grand Theft Auto V&lt;/td&gt;&lt;td&gt;2013&lt;/td&gt;&lt;td&gt;Rockstar Games, Inc.&lt;/td&gt;&lt;td&gt;Action, Racing / Driving&lt;/td&gt;&lt;td&gt;PlayStation 3, PlayStation 4, Windows, Xbox 360, Xbox One&lt;/td&gt;&lt;td&gt;93.5&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Sins of a Solar Empire: Trinity&lt;/td&gt;&lt;td&gt;2010&lt;/td&gt;&lt;td&gt;1C-SoftClub, rondomedia Marketing &amp; Vertriebs GmbH, Snowball Studios, Stardock Entertainment, Inc.&lt;/td&gt;&lt;td&gt;Strategy&lt;/td&gt;&lt;td&gt;Windows&lt;/td&gt;&lt;td&gt;93.5&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Super Mario Bros.&lt;/td&gt;&lt;td&gt;1985&lt;/td&gt;&lt;td&gt;Nintendo Co., Ltd., Nintendo of America Inc., Nintendo of Europe GmbH&lt;/td&gt;&lt;td&gt;Action&lt;/td&gt;&lt;td&gt;Arcade, Game Boy Advance, NES, Nintendo 3DS, Wii, Wii U&lt;/td&gt;&lt;td&gt;93.33&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;RalliSport Challenge 2&lt;/td&gt;&lt;td&gt;2004&lt;/td&gt;&lt;td&gt;Microsoft Game Studios&lt;/td&gt;&lt;td&gt;Racing / Driving&lt;/td&gt;&lt;td&gt;Xbox&lt;/td&gt;&lt;td&gt;93&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Vampire Chronicle for Matching Service&lt;/td&gt;&lt;td&gt;2000&lt;/td&gt;&lt;td&gt;Capcom Co., Ltd.&lt;/td&gt;&lt;td&gt;Action&lt;/td&gt;&lt;td&gt;Dreamcast&lt;/td&gt;&lt;td&gt;93&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/p&gt;
&lt;/p&gt;

&lt;p&gt;
Though the earlier graph illustrated game ratings haven&#39;t changed much over the last 40 years, 10 out of the top 11 games have been released within the past 15 years. This may be indicative of a recency bias, a publisher&#39;s increased understanding of qualities that facilitate more highly regarded games, or some other factor. Many of these best game have a so-called &#34;replay value&#34;, such as RPGs, infinite universes, or sports franchises.
&lt;/p&gt;

&lt;p&gt;&lt;h3&gt;Themes&lt;/h3&gt;
&lt;p&gt;
Mobygames uses 43 themes to delineate aspects of games, which is detailed in their online &lt;a href=&#34;http://www.mobygames.com/glossary/genres&#34;&gt;glossary&lt;/a&gt;. While some games have multiple themes, others have no listed theme - it&amp;rsquo;s unclear whether this is due to user-contribution error or the unique qualities of some games. Super Mario 3, one of the highest-regarded games ever created, doesn&amp;rsquo;t list a theme; it doesn&amp;rsquo;t easily fall into any of the 43 listed genres either. Arcade? Puzzle-solving? Probably neither.
&lt;/p&gt;
&lt;p&gt;
Of the 38,615 games listing at least one theme, the image below shows the distribution of themes as a percentage decimal.
&lt;/p&gt;
&lt;img src=&#34;https://mikeleeco.github.io/img/games_by_theme.png&#34; class=&#34;img-responsive center-block&#34;&gt;&lt;/p&gt;

&lt;p&gt;

I was also curious which themes were most likely to occur simultaneously. Think of the following interactive as such: &#34;If I were to randomly select from the pool of Arcade games, what is the likelihood that it also has a _____ theme?&#34; &lt;i&gt;Click the Themes on the left side to reorganize the heatmap, and hover over the cells to gain further details&lt;/i&gt;.
&lt;/p&gt;
&lt;style&gt;
      svg *::selection {
         background : transparent;
         width: 700px;
         height: 500px;
         margin-left: 30px;
         font-size: 13px;   
      }
     
      svg *::-moz-selection {
         background:transparent;
      } 
     
      svg *::-webkit-selection {
         background:transparent;
      }
      rect.selection {
        stroke          : #333;
        stroke-dasharray: 4px;
        stroke-opacity  : 0.5;
        fill            : transparent;
      }

      rect.cell-border {
        stroke: #eee;
        stroke-width:0.3px;   
      }

      rect.cell-selected {
        stroke: rgb(51,102,153);
        stroke-width:0.5px;   
      }

      rect.cell-hover {
        stroke: #F00;
        stroke-width:0.3px;   
      }

      text.mono {
        font-size: 9pt;
        font-family: Andale Mono, Andale Mono;
        fill: #4a4a4a;
      }

      text.text-selected {
        fill: #000;
      }

      text.text-highlight {
        fill: #c00;
      }
      text.text-hover {
        fill: #00C;
      }
      #tooltip {
        position: absolute;
        width: 200px;
        height: auto;
        padding: 10px;
        background-color: white;
        -webkit-border-radius: 10px;
        -moz-border-radius: 10px;
        border-radius: 10px;
        -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        pointer-events: none;
      }

      #tooltip.hidden {
        display: none;
      }

      #tooltip p {
        margin: 0;
        font-family: Andale Mono;
        font-size: 12px;
        line-height: 20px;
      }
&lt;/style&gt;


&lt;div id=&#34;tooltip&#34; class=&#34;hidden&#34;&gt;
    &lt;p&gt;&lt;span id=&#34;value&#34;&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;

&lt;script src=&#34;http://d3js.org/d3.v3.min.js&#34;&gt;&lt;/script&gt;



&lt;div id=&#34;chart1&#34; class=&#34;text-center&#34;&gt;&lt;/div&gt;

&lt;script&gt;
var margin = { top: 175, right: 10, bottom: 50, left: 175 },
  cellSize=12;
  col_number=43;
  row_number=43;
  width = cellSize*col_number, // - margin.left - margin.right,
  height = cellSize*row_number , // - margin.top - margin.bottom,
  //gridSize = Math.floor(width / 24),
  legendElementWidth = cellSize*2.5,
  colorBuckets = 11,
  colors = [&#39;#FFFFFF&#39;,&#39;#F1EEF6&#39;,&#39;#E6D3E1&#39;,&#39;#DBB9CD&#39;,&#39;#D19EB9&#39;,&#39;#C684A4&#39;,&#39;#BB6990&#39;,&#39;#B14F7C&#39;,&#39;#A63467&#39;,&#39;#9B1A53&#39;,&#39;#91003F&#39;];
  hcrow = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43],
  hccol = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43],
  rowLabel = [&#39;Adult&#39;,&#39;Anime/Manga&#39;,&#39;Arcade&#39;,&#39;BattleMech&#39;,&#39;Board/PartyGame&#39;,&#39;Cards/Tiles&#39;,&#39;Casino&#39;,&#39;Chess&#39;,&#39;Comics&#39;,&#39;Cyberpunk/DarkSci-Fi&#39;,&#39;Detective/Mystery&#39;,&#39;Fantasy&#39;,&#39;Fighting&#39;,&#39;Flight&#39;,&#39;GameShow&#39;,&#39;Helicopter&#39;,&#39;HistoricalBattle&#39;,&#39;Horror&#39;,&#39;InteractiveFiction (IF)&#39;,&#39;IF (w/Graphics)&#39;,&#39;InteractiveMovie&#39;,&#39;Managerial&#39;,&#39;MartialArts&#39;,&#39;Meditative/Zen&#39;,&#39;Mental Training&#39;,&#39;Naval&#39;,&#39;Paddle/Pong&#39;,&#39;PersistentUniverse&#39;,&#39;Pinball&#39;,&#39;Post-Apocalyptic&#39;,&#39;Puzzle-Solving&#39;,&#39;Real-Time&#39;,&#39;Rhythm/Music&#39;,&#39;Sci-Fi/Futuristic&#39;,&#39;Shooter&#39;,&#39;Spy/Espionage&#39;,&#39;Stealth&#39;,&#39;Survival&#39;,&#39;Tank&#39;,&#39;Train&#39;,&#39;Turn-based&#39;,&#39;VideoBackdrop&#39;,&#39;VisualNovel&#39;],
  colLabel = [&#39;Adult&#39;,&#39;Anime/Manga&#39;,&#39;Arcade&#39;,&#39;BattleMech&#39;,&#39;Board/PartyGame&#39;,&#39;Cards/Tiles&#39;,&#39;Casino&#39;,&#39;Chess&#39;,&#39;Comics&#39;,&#39;Cyberpunk/DarkSci-Fi&#39;,&#39;Detective/Mystery&#39;,&#39;Fantasy&#39;,&#39;Fighting&#39;,&#39;Flight&#39;,&#39;GameShow&#39;,&#39;Helicopter&#39;,&#39;HistoricalBattle&#39;,&#39;Horror&#39;,&#39;InteractiveFiction (IF)&#39;,&#39;IF (w/Graphics)&#39;,&#39;InteractiveMovie&#39;,&#39;Managerial&#39;,&#39;MartialArts&#39;,&#39;Meditative/Zen&#39;,&#39;Mental Training&#39;,&#39;Naval&#39;,&#39;Paddle/Pong&#39;,&#39;PersistentUniverse&#39;,&#39;Pinball&#39;,&#39;Post-Apocalyptic&#39;,&#39;Puzzle-Solving&#39;,&#39;Real-Time&#39;,&#39;Rhythm/Music&#39;,&#39;Sci-Fi/Futuristic&#39;,&#39;Shooter&#39;,&#39;Spy/Espionage&#39;,&#39;Stealth&#39;,&#39;Survival&#39;,&#39;Tank&#39;,&#39;Train&#39;,&#39;Turn-based&#39;,&#39;VideoBackdrop&#39;,&#39;VisualNovel&#39;];

d3.csv(&#34;/data/data_heatmap.csv&#34;,
function(d) {
  return {
    row:   +d.row_idx,
    col:   +d.col_idx,
    value: +d.vgfreq
  };
},
function(error, data) {
  var colorScale = d3.scale.linear()
      .domain([ 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
      .range(colors);
  
  var charta = d3.select(&#34;div#chart1&#34;).append(&#34;svg&#34;)
      .attr(&#34;width&#34;, width + margin.left + margin.right)
      .attr(&#34;height&#34;, height + margin.top + margin.bottom)
      .append(&#34;g&#34;)
      .attr(&#34;transform&#34;, &#34;translate(&#34; + margin.left + &#34;,&#34; + margin.top + &#34;)&#34;)
      ;
  var rowSortOrder=false;
  var colSortOrder=false;
  var rowLabels = charta.append(&#34;g&#34;)
      .selectAll(&#34;.rowLabelg&#34;)
      .data(rowLabel)
      .enter()
      .append(&#34;text&#34;)
      .text(function (d) { return d; })
      .attr(&#34;x&#34;, 0)
      .attr(&#34;y&#34;, function (d, i) { return hcrow.indexOf(i+1) * cellSize; })
      .style(&#34;text-anchor&#34;, &#34;end&#34;)
      .attr(&#34;transform&#34;, &#34;translate(-6,&#34; + cellSize / 1.5 + &#34;)&#34;)
      .attr(&#34;class&#34;, function (d,i) { return &#34;rowLabel mono r&#34;+i;} ) 
      .on(&#34;mouseover&#34;, function(d) {d3.select(this).classed(&#34;text-hover&#34;,true);})
      .on(&#34;mouseout&#34; , function(d) {d3.select(this).classed(&#34;text-hover&#34;,false);})
      .on(&#34;click&#34;, function(d,i) {rowSortOrder=!rowSortOrder; sortbylabel(&#34;r&#34;,i,rowSortOrder);d3.select(&#34;#order&#34;).property(&#34;selectedIndex&#34;, 4).node().focus();;})
      ;

  var colLabels = charta.append(&#34;g&#34;)
      .selectAll(&#34;.colLabelg&#34;)
      .data(colLabel)
      .enter()
      .append(&#34;text&#34;)
      .text(function (d) { return d; })
      .attr(&#34;x&#34;, 0)
      .attr(&#34;y&#34;, function (d, i) { return hccol.indexOf(i+1) * cellSize; })
      .style(&#34;text-anchor&#34;, &#34;left&#34;)
      .attr(&#34;transform&#34;, &#34;translate(&#34;+cellSize/2 + &#34;,-6) rotate (-90)&#34;)
      .attr(&#34;class&#34;,  function (d,i) { return &#34;colLabel mono c&#34;+i;} )
      .on(&#34;mouseover&#34;, function(d) {d3.select(this).classed(&#34;text-hover&#34;,true);})
      .on(&#34;mouseout&#34; , function(d) {d3.select(this).classed(&#34;text-hover&#34;,false);})
      .on(&#34;click&#34;, function(d,i) {colSortOrder=!colSortOrder;  sortbylabel(&#34;c&#34;,i,colSortOrder);d3.select(&#34;#order&#34;).property(&#34;selectedIndex&#34;, 4).node().focus();;})
      ;

  var heatMap = charta.append(&#34;g&#34;).attr(&#34;class&#34;,&#34;g3&#34;)
        .selectAll(&#34;.cellg&#34;)
        .data(data,function(d){return d.row+&#34;:&#34;+d.col;})
        .enter()
        .append(&#34;rect&#34;)
        .attr(&#34;x&#34;, function(d) { return hccol.indexOf(d.col) * cellSize; })
        .attr(&#34;y&#34;, function(d) { return hcrow.indexOf(d.row) * cellSize; })
        .attr(&#34;class&#34;, function(d){return &#34;cell cell-border cr&#34;+(d.row-1)+&#34; cc&#34;+(d.col-1);})
        .attr(&#34;width&#34;, cellSize)
        .attr(&#34;height&#34;, cellSize)
        .style(&#34;fill&#34;, function(d) { return colorScale(d.value); })
        /* .on(&#34;click&#34;, function(d) {
               var rowtext=d3.select(&#34;.r&#34;+(d.row-1));
               if(rowtext.classed(&#34;text-selected&#34;)==false){
                   rowtext.classed(&#34;text-selected&#34;,true);
               }else{
                   rowtext.classed(&#34;text-selected&#34;,false);
               }
        })*/
        .on(&#34;mouseover&#34;, function(d){
               //highlight text
               d3.select(this).classed(&#34;cell-hover&#34;,true);
               d3.selectAll(&#34;.rowLabel&#34;).classed(&#34;text-highlight&#34;,function(r,ri){ return ri==(d.row-1);});
               d3.selectAll(&#34;.colLabel&#34;).classed(&#34;text-highlight&#34;,function(c,ci){ return ci==(d.col-1);});
        
               //Update the tooltip position and value
               d3.select(&#34;#tooltip&#34;)
                 .style(&#34;left&#34;, (d3.event.pageX+10) + &#34;px&#34;)
                 .style(&#34;top&#34;, (d3.event.pageY-10) + &#34;px&#34;)
                 .select(&#34;#value&#34;)
                 .text(d.value+&#34;% of &#34;+rowLabel[d.row-1]+&#34; games have a &#34;+colLabel[d.col-1]+&#34; theme&#34;);  
               //Show the tooltip
               d3.select(&#34;#tooltip&#34;).classed(&#34;hidden&#34;, false);
        })
        .on(&#34;mouseout&#34;, function(){
               d3.select(this).classed(&#34;cell-hover&#34;,false);
               d3.selectAll(&#34;.rowLabel&#34;).classed(&#34;text-highlight&#34;,false);
               d3.selectAll(&#34;.colLabel&#34;).classed(&#34;text-highlight&#34;,false);
               d3.select(&#34;#tooltip&#34;).classed(&#34;hidden&#34;, true);
        })
        ;

  var legend = charta.selectAll(&#34;.legend&#34;)
      .data([ 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
      .enter().append(&#34;g&#34;)
      .attr(&#34;class&#34;, &#34;legend&#34;);
 
  legend.append(&#34;rect&#34;)
    .attr(&#34;x&#34;, function(d, i) { return legendElementWidth * i; })
    .attr(&#34;y&#34;, height+(cellSize*2))
    .attr(&#34;width&#34;, legendElementWidth)
    .attr(&#34;height&#34;, cellSize)
    .style(&#34;fill&#34;, function(d, i) { return colors[i]; });
 
  legend.append(&#34;text&#34;)
    .attr(&#34;class&#34;, &#34;mono&#34;)
    .text(function(d) { return d; })
    .attr(&#34;width&#34;, legendElementWidth)
    .attr(&#34;x&#34;, function(d, i) { return legendElementWidth * i; })
    .attr(&#34;y&#34;, height + (cellSize*4));

// Change ordering of cells

  function sortbylabel(rORc,i,sortOrder){
       var t = charta.transition().duration(1500);
       var vgfreq=[];
       var sorted; // sorted is zero-based index
       d3.selectAll(&#34;.c&#34;+rORc+i) 
         .filter(function(ce){
            vgfreq.push(ce.value);
          })
       ;
       if(rORc==&#34;r&#34;){ // sort vgfreq of a gene
         sorted=d3.range(col_number).sort(function(a,b){ if(sortOrder){ return vgfreq[b]-vgfreq[a];}else{ return vgfreq[a]-vgfreq[b];}});
         t.selectAll(&#34;.cell&#34;)
           .attr(&#34;x&#34;, function(d) { return sorted.indexOf(d.col-1) * cellSize; })
           ;
         t.selectAll(&#34;.colLabel&#34;)
          .attr(&#34;y&#34;, function (d, i) { return sorted.indexOf(i) * cellSize; })
         ;
       }else{ // sort vgfreq of a contrast
         sorted=d3.range(row_number).sort(function(a,b){if(sortOrder){ return vgfreq[b]-vgfreq[a];}else{ return vgfreq[a]-vgfreq[b];}});
         t.selectAll(&#34;.cell&#34;)
           .attr(&#34;y&#34;, function(d) { return sorted.indexOf(d.row-1) * cellSize; })
           ;
         t.selectAll(&#34;.rowLabel&#34;)
          .attr(&#34;y&#34;, function (d, i) { return sorted.indexOf(i) * cellSize; })
         ;
       }
  }

  d3.select(&#34;#order&#34;).on(&#34;change&#34;,function(){
    order(this.value);
  });
  

  var sa=d3.select(&#34;.g3&#34;)
      .on(&#34;mousedown&#34;, function() {
          if( !d3.event.altKey) {
             d3.selectAll(&#34;.cell-selected&#34;).classed(&#34;cell-selected&#34;,false);
             d3.selectAll(&#34;.rowLabel&#34;).classed(&#34;text-selected&#34;,false);
             d3.selectAll(&#34;.colLabel&#34;).classed(&#34;text-selected&#34;,false);
          }
         var p = d3.mouse(this);
         sa.append(&#34;rect&#34;)
         .attr({
             rx      : 0,
             ry      : 0,
             class   : &#34;selection&#34;,
             x       : p[0],
             y       : p[1],
             width   : 1,
             height  : 1
         })
      })
      .on(&#34;mousemove&#34;, function() {
         var s = sa.select(&#34;rect.selection&#34;);
      
         if(!s.empty()) {
             var p = d3.mouse(this),
                 d = {
                     x       : parseInt(s.attr(&#34;x&#34;), 10),
                     y       : parseInt(s.attr(&#34;y&#34;), 10),
                     width   : parseInt(s.attr(&#34;width&#34;), 10),
                     height  : parseInt(s.attr(&#34;height&#34;), 10)
                 },
                 move = {
                     x : p[0] - d.x,
                     y : p[1] - d.y
                 }
             ;
      
             if(move.x &lt; 1 || (move.x*2&lt;d.width)) {
                 d.x = p[0];
                 d.width -= move.x;
             } else {
                 d.width = move.x;       
             }
      
             if(move.y &lt; 1 || (move.y*2&lt;d.height)) {
                 d.y = p[1];
                 d.height -= move.y;
             } else {
                 d.height = move.y;       
             }
             s.attr(d);
      
                 // deselect all temporary selected state objects
             d3.selectAll(&#39;.cell-selection.cell-selected&#39;).classed(&#34;cell-selected&#34;, false);
             d3.selectAll(&#34;.text-selection.text-selected&#34;).classed(&#34;text-selected&#34;,false);

             d3.selectAll(&#39;.cell&#39;).filter(function(cell_d, i) {
                 if(
                     !d3.select(this).classed(&#34;cell-selected&#34;) &amp;&amp; 
                         // inner circle inside selection frame
                     (this.x.baseVal.value)+cellSize &gt;= d.x &amp;&amp; (this.x.baseVal.value)&lt;=d.x+d.width &amp;&amp; 
                     (this.y.baseVal.value)+cellSize &gt;= d.y &amp;&amp; (this.y.baseVal.value)&lt;=d.y+d.height
                 ) {
      
                     d3.select(this)
                     .classed(&#34;cell-selection&#34;, true)
                     .classed(&#34;cell-selected&#34;, true);

                     d3.select(&#34;.r&#34;+(cell_d.row-1))
                     .classed(&#34;text-selection&#34;,true)
                     .classed(&#34;text-selected&#34;,true);

                     d3.select(&#34;.c&#34;+(cell_d.col-1))
                     .classed(&#34;text-selection&#34;,true)
                     .classed(&#34;text-selected&#34;,true);
                 }
             });
         }
      })
      .on(&#34;mouseup&#34;, function() {
            // remove selection frame
         sa.selectAll(&#34;rect.selection&#34;).remove();
      
             // remove temporary selection marker class
         d3.selectAll(&#39;.cell-selection&#39;).classed(&#34;cell-selection&#34;, false);
         d3.selectAll(&#34;.text-selection&#34;).classed(&#34;text-selection&#34;,false);
      })
      .on(&#34;mouseout&#34;, function() {
         if(d3.event.relatedTarget.tagName==&#39;html&#39;) {
                 // remove selection frame
             sa.selectAll(&#34;rect.selection&#34;).remove();
                 // remove temporary selection marker class
             d3.selectAll(&#39;.cell-selection&#39;).classed(&#34;cell-selection&#34;, false);
             d3.selectAll(&#34;.rowLabel&#34;).classed(&#34;text-selected&#34;,false);
             d3.selectAll(&#34;.colLabel&#34;).classed(&#34;text-selected&#34;,false);
         }
      })
      ;
});
&lt;/script&gt;
&lt;p&gt;

These two graphics make it evident that Puzzle-Solving, Shooter, Sci-Fi, and Arcade themed games are at a higher rate than other games.
&lt;/p&gt;
&lt;p&gt;
Before moving on, here are a couple interesting observations, from most to least sensical:
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;68% of Adult-themed games have an Anime/Manga theme, while only 20% of Anime/Manga-themed games are adult themed.&lt;/li&gt;&lt;li&gt;Only 46% of Helicopter games are Flight-themed - How could that be?!? What are you doing in these other 54% of Helicopter games?&lt;/li&gt;&lt;li&gt;3% of Rhythm/Music games are Shooter-themed. No word to report on the Samba de Amigo/Halo crossover though.&lt;/li&gt;&lt;li&gt;There is one Adult-themed Tank game. What could this possibly entail, you ask? Do yourself a favor and read the &lt;a href=&#34;http://www.mobygames.com/game/space-fuck&#34;&gt;game description&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
&lt;/p&gt;
&lt;h3&gt;Themes&lt;/h3&gt;
&lt;p&gt;

Mobygames uses 8 genres to categorize game types. The vast majority of games have at least one genre, many having multiple. Shovelware games, which are packages of dissimilar games (think &lt;b&gt;The 1000 Best Windows 95 Games Bundle&lt;/b&gt;) are responsible for many of the missing titles.
&lt;/p&gt;
&lt;img src=&#34;https://mikeleeco.github.io/img/games_by_genre.png&#34; class=&#34;img-responsive center-block&#34;&gt;

&lt;p&gt;

It&#39;s a bit unexpected that Action games have such a dominating share of the market. This is likely due to its emphasis on reflex-based gameplay, which is a component of most of the other genres - especially racing and sports games.
&lt;/p&gt;
&lt;p&gt;
Similar to the theme interactive, I was curious which themes were most likely to occur in a given genre of game. Think of the following interactive as such: &#34;If I were to randomly select from the pool of Educational games, what is the likelihood that it has a _____ theme?&#34; &lt;i&gt;Click the Genres on the left side to reorganize the heatmap, and hover over the cells to gain further details&lt;/i&gt;.
&lt;/p&gt;
&lt;div id=&#34;chart2&#34; class=&#34;text-center&#34;&gt;&lt;/div&gt;

&lt;script type=&#34;text/javascript&#34;&gt;
var margin = { top: 175, right: 10, bottom: 50, left: 175 },
  cellSize=12;
  cl_number=43;
  rw_number=8;
  widthy = cellSize*cl_number, // - margin.left - margin.right,
  heighty = cellSize*rw_number , // - margin.top - margin.bottom,
  //gridSize = Math.floor(widthy / 24),
  legendElementWidth = cellSize*2.5,
  colorBuckets = 11,
  colors = [&#39;#FFFFFF&#39;,&#39;#F1EEF6&#39;,&#39;#E6D3E1&#39;,&#39;#DBB9CD&#39;,&#39;#D19EB9&#39;,&#39;#C684A4&#39;,&#39;#BB6990&#39;,&#39;#B14F7C&#39;,&#39;#A63467&#39;,&#39;#9B1A53&#39;,&#39;#91003F&#39;];
  hcrw = [1,2,3,4,5,6,7,8],
  hccl = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43],
  rwLabel = [&#39;Action&#39;,&#39;Adventure&#39;,&#39;Educational&#39;,&#39;RPG&#39;,&#39;Racing&#39;,&#39;Simulation&#39;,&#39;Sports&#39;,&#39;Strategy&#39;],
  clLabel = [&#39;Adult&#39;,&#39;Anime/Manga&#39;,&#39;Arcade&#39;,&#39;BattleMech&#39;,&#39;Board/PartyGame&#39;,&#39;Cards/Tiles&#39;,&#39;Casino&#39;,&#39;Chess&#39;,&#39;Comics&#39;,&#39;Cyberpunk/DarkSci-Fi&#39;,&#39;Detective/Mystery&#39;,&#39;Fantasy&#39;,&#39;Fighting&#39;,&#39;Flight&#39;,&#39;GameShow&#39;,&#39;Helicopter&#39;,&#39;HistoricalBattle&#39;,&#39;Horror&#39;,&#39;InteractiveFiction (IF)&#39;,&#39;IF (w/Graphics)&#39;,&#39;InteractiveMovie&#39;,&#39;Managerial&#39;,&#39;MartialArts&#39;,&#39;Meditative/Zen&#39;,&#39;Mental Training&#39;,&#39;Naval&#39;,&#39;Paddle/Pong&#39;,&#39;PersistentUniverse&#39;,&#39;Pinball&#39;,&#39;Post-Apocalyptic&#39;,&#39;Puzzle-Solving&#39;,&#39;Real-Time&#39;,&#39;Rhythm/Music&#39;,&#39;Sci-Fi/Futuristic&#39;,&#39;Shooter&#39;,&#39;Spy/Espionage&#39;,&#39;Stealth&#39;,&#39;Survival&#39;,&#39;Tank&#39;,&#39;Train&#39;,&#39;Turn-based&#39;,&#39;VideoBackdrop&#39;,&#39;VisualNovel&#39;];

d3.csv(&#34;/data/data_heatmap2.csv&#34;,
function(d) {
  return {
    rw:   +d.rw_id,
    cl:   +d.cl_id,
    value: +d.vgfre
  };
},
function(error, data) {
  var colorScale = d3.scale.linear()
      .domain([ 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
      .range(colors);
  
  var chartb = d3.select(&#34;div#chart2&#34;).append(&#34;svg&#34;)
      .attr(&#34;width&#34;, widthy + margin.left + margin.right)
      .attr(&#34;height&#34;, heighty + margin.top + margin.bottom)
      .append(&#34;g&#34;)
      .attr(&#34;transform&#34;, &#34;translate(&#34; + margin.left + &#34;,&#34; + margin.top + &#34;)&#34;)
      ;

  var rwSortOrder=false;
  var rwLabels = chartb.append(&#34;g&#34;)
      .selectAll(&#34;.rwLabelg&#34;)
      .data(rwLabel)
      .enter()
      .append(&#34;text&#34;)
      .text(function (d) { return d; })
      .attr(&#34;x&#34;, 0)
      .attr(&#34;y&#34;, function (d, i) { return hcrw.indexOf(i+1) * cellSize; })
      .style(&#34;text-anchor&#34;, &#34;end&#34;)
      .attr(&#34;transform&#34;, &#34;translate(-6,&#34; + cellSize / 1.5 + &#34;)&#34;)
      .attr(&#34;class&#34;, function (d,i) { return &#34;rwLabel mono rr&#34;+i;} ) 
      .on(&#34;mouseover&#34;, function(d) {d3.select(this).classed(&#34;text-hover&#34;,true);})
      .on(&#34;mouseout&#34; , function(d) {d3.select(this).classed(&#34;text-hover&#34;,false);})
      .on(&#34;click&#34;, function(d,i) {rwSortOrder=!rwSortOrder; sortbylabel(&#34;rr&#34;,i,rwSortOrder);d3.select(&#34;#order&#34;).property(&#34;selectedIndex&#34;, 4).node().focus();;})
      ;

  var clSortOrder=false;
  var clLabels = chartb.append(&#34;g&#34;)
      .selectAll(&#34;.clLabelg&#34;)
      .data(clLabel)
      .enter()
      .append(&#34;text&#34;)
      .text(function (d) { return d; })
      .attr(&#34;x&#34;, 0)
      .attr(&#34;y&#34;, function (d, i) { return hccl.indexOf(i+1) * cellSize; })
      .style(&#34;text-anchor&#34;, &#34;left&#34;)
      .attr(&#34;transform&#34;, &#34;translate(&#34;+cellSize/2 + &#34;,-6) rotate (-90)&#34;)
      .attr(&#34;class&#34;,  function (d,i) { return &#34;clLabel mono cc&#34;+i;} )
      .on(&#34;mouseover&#34;, function(d) {d3.select(this).classed(&#34;text-hover&#34;,true);})
      .on(&#34;mouseout&#34; , function(d) {d3.select(this).classed(&#34;text-hover&#34;,false);})
      .on(&#34;click&#34;, function(d,i) {clSortOrder=!clSortOrder;  sortbylabel(&#34;cc&#34;,i,clSortOrder);d3.select(&#34;#order&#34;).property(&#34;selectedIndex&#34;, 4).node().focus();;})
      ;

  var heat = chartb.append(&#34;g&#34;).attr(&#34;class&#34;,&#34;g3&#34;)
        .selectAll(&#34;.cellg&#34;)
        .data(data,function(d){return d.rw+&#34;:&#34;+d.cl;})
        .enter()
        .append(&#34;rect&#34;)
        .attr(&#34;x&#34;, function(d) { return hccl.indexOf(d.cl) * cellSize; })
        .attr(&#34;y&#34;, function(d) { return hcrw.indexOf(d.rw) * cellSize; })
        .attr(&#34;class&#34;, function(d){return &#34;cell cell-border ccrr&#34;+(d.rw-1)+&#34; cccc&#34;+(d.cl-1);})
        .attr(&#34;width&#34;, cellSize)
        .attr(&#34;height&#34;, cellSize)
        .style(&#34;fill&#34;, function(d) { return colorScale(d.value); })
        /* .on(&#34;click&#34;, function(d) {
               var rwtext=d3.select(&#34;.rr&#34;+(d.rw-1));
               if(rwtext.classed(&#34;text-selected&#34;)==false){
                   rwtext.classed(&#34;text-selected&#34;,true);
               }else{
                   rwtext.classed(&#34;text-selected&#34;,false);
               }
        })*/
        .on(&#34;mouseover&#34;, function(d){
               //highlight text
               d3.select(this).classed(&#34;cell-hover&#34;,true);
               d3.selectAll(&#34;.rwLabel&#34;).classed(&#34;text-highlight&#34;,function(r,ri){ return ri==(d.rw-1);});
               d3.selectAll(&#34;.clLabel&#34;).classed(&#34;text-highlight&#34;,function(c,ci){ return ci==(d.cl-1);});
        
               //Update the tooltip position and value
               d3.select(&#34;#tooltip&#34;)
                 .style(&#34;left&#34;, (d3.event.pageX+10) + &#34;px&#34;)
                 .style(&#34;top&#34;, (d3.event.pageY-10) + &#34;px&#34;)
                 .select(&#34;#value&#34;)
                 .text(d.value+&#34;% of &#34;+rwLabel[d.rw-1]+&#34; games have a &#34;+clLabel[d.cl-1]+&#34; theme&#34;);  
               //Show the tooltip
               d3.select(&#34;#tooltip&#34;).classed(&#34;hidden&#34;, false);
        })
        .on(&#34;mouseout&#34;, function(){
               d3.select(this).classed(&#34;cell-hover&#34;,false);
               d3.selectAll(&#34;.rwLabel&#34;).classed(&#34;text-highlight&#34;,false);
               d3.selectAll(&#34;.clLabel&#34;).classed(&#34;text-highlight&#34;,false);
               d3.select(&#34;#tooltip&#34;).classed(&#34;hidden&#34;, true);
        })
        ;

  var legend = chartb.selectAll(&#34;.legend&#34;)
      .data([ 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
      .enter().append(&#34;g&#34;)
      .attr(&#34;class&#34;, &#34;legend&#34;);
 
  legend.append(&#34;rect&#34;)
    .attr(&#34;x&#34;, function(d, i) { return legendElementWidth * i; })
    .attr(&#34;y&#34;, heighty+(cellSize*2))
    .attr(&#34;width&#34;, legendElementWidth)
    .attr(&#34;height&#34;, cellSize)
    .style(&#34;fill&#34;, function(d, i) { return colors[i]; });
 
  legend.append(&#34;text&#34;)
    .attr(&#34;class&#34;, &#34;mono&#34;)
    .text(function(d) { return d; })
    .attr(&#34;width&#34;, legendElementWidth)
    .attr(&#34;x&#34;, function(d, i) { return legendElementWidth * i; })
    .attr(&#34;y&#34;, heighty + (cellSize*4));

// Change ordering of cells

  function sortbylabel(rrORcc,i,sortOrder){
       var t = chartb.transition().duration(1500);
       var vgfre=[];
       var sorted; // sorted is zero-based index
       d3.selectAll(&#34;.cc&#34;+rrORcc+i) 
         .filter(function(ce){
            vgfre.push(ce.value);
          })
       ;
       if(rrORcc==&#34;rr&#34;){ // sort vgfre of a gene
         sorted=d3.range(cl_number).sort(function(a,b){ if(sortOrder){ return vgfre[b]-vgfre[a];}else{ return vgfre[a]-vgfre[b];}});
         t.selectAll(&#34;.cell&#34;)
           .attr(&#34;x&#34;, function(d) { return sorted.indexOf(d.cl-1) * cellSize; })
           ;
         t.selectAll(&#34;.clLabel&#34;)
          .attr(&#34;y&#34;, function (d, i) { return sorted.indexOf(i) * cellSize; })
         ;
       }else{ // sort vgfreq of a contrast
         sorted=d3.range(rw_number).sort(function(a,b){if(sortOrder){ return vgfre[b]-vgfre[a];}else{ return vgfre[a]-vgfre[b];}});
         t.selectAll(&#34;.cell&#34;)
           .attr(&#34;y&#34;, function(d) { return sorted.indexOf(d.rw-1) * cellSize; })
           ;
         t.selectAll(&#34;.rwLabel&#34;)
          .attr(&#34;y&#34;, function (d, i) { return sorted.indexOf(i) * cellSize; })
         ;
       }
  }

  d3.select(&#34;#order&#34;).on(&#34;change&#34;,function(){
    order(this.value);
  });
  

  var sa=d3.select(&#34;.g3&#34;)
      .on(&#34;mousedown&#34;, function() {
          if( !d3.event.altKey) {
             d3.selectAll(&#34;.cell-selected&#34;).classed(&#34;cell-selected&#34;,false);
             d3.selectAll(&#34;.rwLabel&#34;).classed(&#34;text-selected&#34;,false);
             d3.selectAll(&#34;.clLabel&#34;).classed(&#34;text-selected&#34;,false);
          }
         var p = d3.mouse(this);
         sa.append(&#34;rect&#34;)
         .attr({
             rx      : 0,
             ry      : 0,
             class   : &#34;selection&#34;,
             x       : p[0],
             y       : p[1],
             widthy   : 1,
             heighty  : 1
         })
      })
      .on(&#34;mousemove&#34;, function() {
         var s = sa.select(&#34;rect.selection&#34;);
      
         if(!s.empty()) {
             var p = d3.mouse(this),
                 d = {
                     x       : parseInt(s.attr(&#34;x&#34;), 10),
                     y       : parseInt(s.attr(&#34;y&#34;), 10),
                     widthy   : parseInt(s.attr(&#34;width&#34;), 10),
                     heighty  : parseInt(s.attr(&#34;height&#34;), 10)
                 },
                 move = {
                     x : p[0] - d.x,
                     y : p[1] - d.y
                 }
             ;
      
             if(move.x &lt; 1 || (move.x*2&lt;d.widthy)) {
                 d.x = p[0];
                 d.widthy -= move.x;
             } else {
                 d.widthy = move.x;       
             }
      
             if(move.y &lt; 1 || (move.y*2&lt;d.heighty)) {
                 d.y = p[1];
                 d.heighty -= move.y;
             } else {
                 d.heighty = move.y;       
             }
             s.attr(d);
      
                 // deselect all temporary selected state objects
             d3.selectAll(&#39;.cell-selection.cell-selected&#39;).classed(&#34;cell-selected&#34;, false);
             d3.selectAll(&#34;.text-selection.text-selected&#34;).classed(&#34;text-selected&#34;,false);

             d3.selectAll(&#39;.cell&#39;).filter(function(cell_d, i) {
                 if(
                     !d3.select(this).classed(&#34;cell-selected&#34;) &amp;&amp; 
                         // inner circle inside selection frame
                     (this.x.baseVal.value)+cellSize &gt;= d.x &amp;&amp; (this.x.baseVal.value)&lt;=d.x+d.widthy &amp;&amp; 
                     (this.y.baseVal.value)+cellSize &gt;= d.y &amp;&amp; (this.y.baseVal.value)&lt;=d.y+d.heighty
                 ) {
      
                     d3.select(this)
                     .classed(&#34;cell-selection&#34;, true)
                     .classed(&#34;cell-selected&#34;, true);

                     d3.select(&#34;.rr&#34;+(cell_d.rw-1))
                     .classed(&#34;text-selection&#34;,true)
                     .classed(&#34;text-selected&#34;,true);

                     d3.select(&#34;.cc&#34;+(cell_d.cl-1))
                     .classed(&#34;text-selection&#34;,true)
                     .classed(&#34;text-selected&#34;,true);
                 }
             });
         }
      })
      .on(&#34;mouseup&#34;, function() {
            // remove selection frame
         sa.selectAll(&#34;rect.selection&#34;).remove();
      
             // remove temporary selection marker class
         d3.selectAll(&#39;.cell-selection&#39;).classed(&#34;cell-selection&#34;, false);
         d3.selectAll(&#34;.text-selection&#34;).classed(&#34;text-selection&#34;,false);
      })
      .on(&#34;mouseout&#34;, function() {
         if(d3.event.relatedTarget.tagName==&#39;html&#39;) {
                 // remove selection frame
             sa.selectAll(&#34;rect.selection&#34;).remove();
                 // remove temporary selection marker class
             d3.selectAll(&#39;.cell-selection&#39;).classed(&#34;cell-selection&#34;, false);
             d3.selectAll(&#34;.rwLabel&#34;).classed(&#34;text-selected&#34;,false);
             d3.selectAll(&#34;.clLabel&#34;).classed(&#34;text-selected&#34;,false);
         }
      })
      ;
});
&lt;/script&gt;

&lt;p&gt;
The data set is quite large with and there is much to still be explored, so stayed tuned to the site for additional posts!
&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;
Have feedback, questions, or want to see something else added? Check out the code I used to create &lt;a href=&#34;https://github.com/mikeleeco/mikeleeco.github.com/blob/master/_posts/2015-06-10-video-games-interactive.md&#34;&gt;this page&lt;/a&gt; or fork my repository to propose changes. &lt;a class=&#34;btn btn-primary&#34; href=&#34;https://github.com/mikeleeco/Mobygames-Scraper/fork&#34;&gt;Edit My Code&lt;/a&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Kris Bryant Performance Projection</title>
      <link>https://mikeleeco.github.io/posts/2015-03-25-bryant-visualization/</link>
      <pubDate>Wed, 25 Mar 2015 00:00:00 +0000</pubDate>
      <author>mdlee12@gmail.com (Michael Lee)</author>
      <guid>https://mikeleeco.github.io/posts/2015-03-25-bryant-visualization/</guid>
      <description>&lt;body&gt;


&lt;div class=&#34;container-fluid&#34;&gt;

&lt;p&gt;A dynamic rCharts visualization displaying performance projections for Kris Bryant based on his 10 most similar career MiLB comparable players. Read more at &lt;a href=&#34;http://mikelee.co/posts/milb-similarity-scores/&#34; class=&#34;uri&#34;&gt;http://mikelee.co/posts/milb-similarity-scores/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You can change the y-axis parameters by selecting the performance measure you’d like to visualize. Additionally, hover over the points to see player details, and select players in the legend to show or remove their data from the graph.&lt;/p&gt;
&lt;iframe src=&#34;https://mikeleeco.github.io/knitr/bryant.html&#34; , width=&#34;100%,&#34; height=&#34;550px&#34;&gt;
&lt;/iframe&gt;
&lt;p&gt;
&lt;div class=&#34;table-responsive&#34;&gt;
&lt;table class=&#34;table table-hover&#34;&gt;
&lt;th&gt;
Year
&lt;/th&gt;
&lt;th&gt;
Age
&lt;/th&gt;
&lt;th&gt;
LevEq
&lt;/th&gt;
&lt;th&gt;
G
&lt;/th&gt;
&lt;th&gt;
PA
&lt;/th&gt;
&lt;th&gt;
AB
&lt;/th&gt;
&lt;th&gt;
R
&lt;/th&gt;
&lt;th&gt;
H
&lt;/th&gt;
&lt;th&gt;
X2B
&lt;/th&gt;
&lt;th&gt;
X3B
&lt;/th&gt;
&lt;th&gt;
HR
&lt;/th&gt;
&lt;th&gt;
RBI
&lt;/th&gt;
&lt;th&gt;
SB
&lt;/th&gt;
&lt;th&gt;
CS
&lt;/th&gt;
&lt;th&gt;
BB
&lt;/th&gt;
&lt;th&gt;
SO
&lt;/th&gt;
&lt;th&gt;
BA
&lt;/th&gt;
&lt;th&gt;
OBP
&lt;/th&gt;
&lt;th&gt;
SLG
&lt;/th&gt;
&lt;th&gt;
OPS
&lt;/th&gt;
&lt;th&gt;
Count
&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2015
&lt;/td&gt;
&lt;td&gt;
23
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
130
&lt;/td&gt;
&lt;td&gt;
548
&lt;/td&gt;
&lt;td&gt;
489
&lt;/td&gt;
&lt;td&gt;
76
&lt;/td&gt;
&lt;td&gt;
138
&lt;/td&gt;
&lt;td&gt;
32
&lt;/td&gt;
&lt;td&gt;
5
&lt;/td&gt;
&lt;td&gt;
24
&lt;/td&gt;
&lt;td&gt;
83
&lt;/td&gt;
&lt;td&gt;
9
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
47
&lt;/td&gt;
&lt;td&gt;
105
&lt;/td&gt;
&lt;td&gt;
0.282
&lt;/td&gt;
&lt;td&gt;
0.35
&lt;/td&gt;
&lt;td&gt;
0.515
&lt;/td&gt;
&lt;td&gt;
0.865
&lt;/td&gt;
&lt;td&gt;
10
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2016
&lt;/td&gt;
&lt;td&gt;
24
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
132
&lt;/td&gt;
&lt;td&gt;
551
&lt;/td&gt;
&lt;td&gt;
492
&lt;/td&gt;
&lt;td&gt;
77
&lt;/td&gt;
&lt;td&gt;
140
&lt;/td&gt;
&lt;td&gt;
32
&lt;/td&gt;
&lt;td&gt;
5
&lt;/td&gt;
&lt;td&gt;
23
&lt;/td&gt;
&lt;td&gt;
77
&lt;/td&gt;
&lt;td&gt;
8
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
49
&lt;/td&gt;
&lt;td&gt;
107
&lt;/td&gt;
&lt;td&gt;
0.285
&lt;/td&gt;
&lt;td&gt;
0.354
&lt;/td&gt;
&lt;td&gt;
0.51
&lt;/td&gt;
&lt;td&gt;
0.864
&lt;/td&gt;
&lt;td&gt;
9
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2017
&lt;/td&gt;
&lt;td&gt;
25
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
115
&lt;/td&gt;
&lt;td&gt;
476
&lt;/td&gt;
&lt;td&gt;
424
&lt;/td&gt;
&lt;td&gt;
66
&lt;/td&gt;
&lt;td&gt;
121
&lt;/td&gt;
&lt;td&gt;
26
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
20
&lt;/td&gt;
&lt;td&gt;
72
&lt;/td&gt;
&lt;td&gt;
7
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
43
&lt;/td&gt;
&lt;td&gt;
89
&lt;/td&gt;
&lt;td&gt;
0.285
&lt;/td&gt;
&lt;td&gt;
0.356
&lt;/td&gt;
&lt;td&gt;
0.502
&lt;/td&gt;
&lt;td&gt;
0.859
&lt;/td&gt;
&lt;td&gt;
8
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2018
&lt;/td&gt;
&lt;td&gt;
26
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
129
&lt;/td&gt;
&lt;td&gt;
543
&lt;/td&gt;
&lt;td&gt;
478
&lt;/td&gt;
&lt;td&gt;
76
&lt;/td&gt;
&lt;td&gt;
135
&lt;/td&gt;
&lt;td&gt;
31
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
22
&lt;/td&gt;
&lt;td&gt;
73
&lt;/td&gt;
&lt;td&gt;
7
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
56
&lt;/td&gt;
&lt;td&gt;
93
&lt;/td&gt;
&lt;td&gt;
0.282
&lt;/td&gt;
&lt;td&gt;
0.363
&lt;/td&gt;
&lt;td&gt;
0.498
&lt;/td&gt;
&lt;td&gt;
0.861
&lt;/td&gt;
&lt;td&gt;
6
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2019
&lt;/td&gt;
&lt;td&gt;
27
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
148
&lt;/td&gt;
&lt;td&gt;
635
&lt;/td&gt;
&lt;td&gt;
569
&lt;/td&gt;
&lt;td&gt;
92
&lt;/td&gt;
&lt;td&gt;
169
&lt;/td&gt;
&lt;td&gt;
36
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
28
&lt;/td&gt;
&lt;td&gt;
94
&lt;/td&gt;
&lt;td&gt;
15
&lt;/td&gt;
&lt;td&gt;
6
&lt;/td&gt;
&lt;td&gt;
58
&lt;/td&gt;
&lt;td&gt;
104
&lt;/td&gt;
&lt;td&gt;
0.297
&lt;/td&gt;
&lt;td&gt;
0.365
&lt;/td&gt;
&lt;td&gt;
0.522
&lt;/td&gt;
&lt;td&gt;
0.887
&lt;/td&gt;
&lt;td&gt;
5
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2020
&lt;/td&gt;
&lt;td&gt;
28
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
151
&lt;/td&gt;
&lt;td&gt;
647
&lt;/td&gt;
&lt;td&gt;
574
&lt;/td&gt;
&lt;td&gt;
87
&lt;/td&gt;
&lt;td&gt;
174
&lt;/td&gt;
&lt;td&gt;
38
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
25
&lt;/td&gt;
&lt;td&gt;
94
&lt;/td&gt;
&lt;td&gt;
11
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
64
&lt;/td&gt;
&lt;td&gt;
109
&lt;/td&gt;
&lt;td&gt;
0.303
&lt;/td&gt;
&lt;td&gt;
0.376
&lt;/td&gt;
&lt;td&gt;
0.51
&lt;/td&gt;
&lt;td&gt;
0.886
&lt;/td&gt;
&lt;td&gt;
5
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2021
&lt;/td&gt;
&lt;td&gt;
29
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
127
&lt;/td&gt;
&lt;td&gt;
532
&lt;/td&gt;
&lt;td&gt;
475
&lt;/td&gt;
&lt;td&gt;
70
&lt;/td&gt;
&lt;td&gt;
130
&lt;/td&gt;
&lt;td&gt;
26
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
20
&lt;/td&gt;
&lt;td&gt;
77
&lt;/td&gt;
&lt;td&gt;
5
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
47
&lt;/td&gt;
&lt;td&gt;
96
&lt;/td&gt;
&lt;td&gt;
0.274
&lt;/td&gt;
&lt;td&gt;
0.343
&lt;/td&gt;
&lt;td&gt;
0.472
&lt;/td&gt;
&lt;td&gt;
0.815
&lt;/td&gt;
&lt;td&gt;
5
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2022
&lt;/td&gt;
&lt;td&gt;
30
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
143
&lt;/td&gt;
&lt;td&gt;
591
&lt;/td&gt;
&lt;td&gt;
525
&lt;/td&gt;
&lt;td&gt;
81
&lt;/td&gt;
&lt;td&gt;
141
&lt;/td&gt;
&lt;td&gt;
32
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
21
&lt;/td&gt;
&lt;td&gt;
81
&lt;/td&gt;
&lt;td&gt;
10
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
56
&lt;/td&gt;
&lt;td&gt;
104
&lt;/td&gt;
&lt;td&gt;
0.269
&lt;/td&gt;
&lt;td&gt;
0.345
&lt;/td&gt;
&lt;td&gt;
0.461
&lt;/td&gt;
&lt;td&gt;
0.806
&lt;/td&gt;
&lt;td&gt;
5
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2023
&lt;/td&gt;
&lt;td&gt;
31
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
159
&lt;/td&gt;
&lt;td&gt;
696
&lt;/td&gt;
&lt;td&gt;
620
&lt;/td&gt;
&lt;td&gt;
98
&lt;/td&gt;
&lt;td&gt;
163
&lt;/td&gt;
&lt;td&gt;
28
&lt;/td&gt;
&lt;td&gt;
6
&lt;/td&gt;
&lt;td&gt;
30
&lt;/td&gt;
&lt;td&gt;
93
&lt;/td&gt;
&lt;td&gt;
9
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
64
&lt;/td&gt;
&lt;td&gt;
120
&lt;/td&gt;
&lt;td&gt;
0.263
&lt;/td&gt;
&lt;td&gt;
0.336
&lt;/td&gt;
&lt;td&gt;
0.473
&lt;/td&gt;
&lt;td&gt;
0.808
&lt;/td&gt;
&lt;td&gt;
2
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;
2024
&lt;/td&gt;
&lt;td&gt;
32
&lt;/td&gt;
&lt;td&gt;
4
&lt;/td&gt;
&lt;td&gt;
118
&lt;/td&gt;
&lt;td&gt;
440
&lt;/td&gt;
&lt;td&gt;
380
&lt;/td&gt;
&lt;td&gt;
48
&lt;/td&gt;
&lt;td&gt;
93
&lt;/td&gt;
&lt;td&gt;
22
&lt;/td&gt;
&lt;td&gt;
1
&lt;/td&gt;
&lt;td&gt;
14
&lt;/td&gt;
&lt;td&gt;
63
&lt;/td&gt;
&lt;td&gt;
3
&lt;/td&gt;
&lt;td&gt;
1
&lt;/td&gt;
&lt;td&gt;
46
&lt;/td&gt;
&lt;td&gt;
60
&lt;/td&gt;
&lt;td&gt;
0.245
&lt;/td&gt;
&lt;td&gt;
0.327
&lt;/td&gt;
&lt;td&gt;
0.418
&lt;/td&gt;
&lt;td&gt;
0.745
&lt;/td&gt;
&lt;td&gt;
2
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/p&gt;
&lt;p&gt;Be sure to bookmark my site to check out future visualizations!&lt;/p&gt;


&lt;/div&gt;

&lt;script&gt;

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $(&#39;tr.header&#39;).parent(&#39;thead&#39;).parent(&#39;table&#39;).addClass(&#39;table table-condensed&#39;);
});

&lt;/script&gt;

&lt;!-- dynamically load mathjax for compatibility with self-contained --&gt;
&lt;script&gt;
  (function () {
    var script = document.createElement(&#34;script&#34;);
    script.type = &#34;text/javascript&#34;;
    script.src  = &#34;https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&#34;;
    document.getElementsByTagName(&#34;head&#34;)[0].appendChild(script);
  })();
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</description>
    </item>
    
    <item>
      <title>Working with Minor League Similarity Scores</title>
      <link>https://mikeleeco.github.io/posts/2015-03-25-milb-similarity-scores/</link>
      <pubDate>Wed, 25 Mar 2015 00:00:00 +0000</pubDate>
      <author>mdlee12@gmail.com (Michael Lee)</author>
      <guid>https://mikeleeco.github.io/posts/2015-03-25-milb-similarity-scores/</guid>
      <description>&lt;p&gt;&lt;blockquote&gt;
There are some people who see baseball players that way-each one is unique, absolutely not interchangeable with another. I don&#39;t deny the validity of that approach-but if you take that tack, then you can&#39;t turn around and argue that your player should be in the Hall of Fame because his numbers are just as good as this other player&#39;s. &#34;Similarity&#34; is a complex concept, and two players who are not statistically similar may be profoundly similar in some other way...players who have similar primary characteristics will tend to have similar secondary characteristics as well.

&lt;p&gt; - Bill James in &lt;a href=&#34;https://books.google.com/books?id=f_v8RmhGjekC&amp;pg=PT101&amp;dq=similarity+score+bill+james&amp;hl=en&amp;sa=X&amp;ei=lmIAVcabOsu4ggTAkoS4DA&amp;ved=0CDYQ6AEwBA#v=onepage&amp;q=similarity%20score%20bill%20james&amp;f=false&#34;&gt;Whatever Happened to the Hall of Fame?&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;/p&gt;

&lt;p&gt;Similarity scores were created by Bill James to compare the careers of Hall of Fame eligible players.In  In the most basic sense, similarity scores use aggregated performance statistics to compare a player&amp;rsquo;s worth for induction into the Hall of Fame. Projection systems follow from this method: Steamer, PECOTA, Marcel, ZiPS, and others use some combination of a player&amp;rsquo;s recent performance, usually the last 3-4 seasons, to project future performance. Depending on the method, a player&amp;rsquo;s base statistics are then modified using typical aging curves, linear weights, regression, and numerous other factors. Notably, PECOTA uses 3 year performance statistics of &lt;i&gt;comparable&lt;/i&gt; players, using nearest-neighors analysis, to forecast a player&amp;rsquo;s future performance.&lt;/p&gt;

&lt;p&gt;&lt;blockquote&gt;
&#34;The PECOTA similarity scores are based primarily on looking at a three-year window of a pitcher’s performance. Thus, we might look at what a pitcher did from ages 35-37, and compare that against the most similar age 35-37 performances, after adjusting for parks, league effects, and a whole host of other things. This is different from the similarity scores you might see at baseball-reference.com or in other places, which attempt to evaluate the totality of a player’s career up to a given age.&#34;
&lt;p&gt;
&lt;a href=&#34;http://web.archive.org/web/20120205121306/http://www.baseballprospectus.com/unfiltered/?p=136&#34;&gt;Nate Silver&lt;/a&gt;
&lt;/p&gt;
&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;One of Silver&amp;rsquo;s first explanations of &lt;a href=&#34;http://www.baseballprospectus.com/article.php?articleid=2659&#34;&gt;PECOTA&amp;rsquo;s forecasting method&lt;/a&gt; details the value in projecting a minor league player&amp;rsquo;s future career based on the career performance of their comparisons. Teams would be remiss to not consider what a player&amp;rsquo;s future statistics might look like based on their previous performance. PECOTA has created a projection system that models minor league players better than it&amp;rsquo;s competitors utilizing the comparable player&amp;rsquo;s model. Let&amp;rsquo;s use &lt;a href=&#34;http://mikelee.co/milb-scraper-with-rvest/&#34;&gt;our minor league database&lt;/a&gt; to investigate minor league similarity scores and create projections for a notable minor league player.&lt;/p&gt;

&lt;h1&gt;&lt;a href=&#34;http://www.baseball-reference.com/about/similarity.shtml&#34;&gt;Bill James Similarity Scores&lt;/a&gt;&lt;/h1&gt;

&lt;h3&gt;Similarities - Career&lt;/h3&gt;

&lt;p&gt;James&amp;rsquo; Similarity Score model was designed for major league careers, but let&amp;rsquo;s see how the model holds for minor league careers. The dataset includes minor league statistics from 2000-2014:&lt;/p&gt;

&lt;p&gt;&lt;div class=&#34;table-responsive&#34;&gt;&lt;table class=&#34;table table-hover&#34; width=&#34;100%&#34;&gt;
&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Age&lt;/th&gt;&lt;th&gt;LevEq&lt;/th&gt;&lt;th&gt;G&lt;/th&gt;&lt;th&gt;PA&lt;/th&gt;&lt;th&gt;AB&lt;/th&gt;&lt;th&gt;R&lt;/th&gt;&lt;th&gt;H&lt;/th&gt;&lt;th&gt;X2B&lt;/th&gt;&lt;th&gt;X3B&lt;/th&gt;&lt;th&gt;HR&lt;/th&gt;&lt;th&gt;RBI&lt;/th&gt;&lt;th&gt;SB&lt;/th&gt;&lt;th&gt;CS&lt;/th&gt;&lt;th&gt;BB&lt;/th&gt;&lt;th&gt;SO&lt;/th&gt;&lt;th&gt;BA&lt;/th&gt;&lt;th&gt;OBP&lt;/th&gt;&lt;th&gt;SLG&lt;/th&gt;&lt;th&gt;OPS&lt;/th&gt;&lt;th&gt;TB&lt;/th&gt;&lt;th&gt;SS&lt;/th&gt;&lt;/tr&gt;
 &lt;tr class=&#34;success&#34;&gt;&lt;td&gt;Kris Bryant&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;1.58&lt;/td&gt;&lt;td&gt;174&lt;/td&gt;&lt;td&gt;740&lt;/td&gt;&lt;td&gt;620&lt;/td&gt;&lt;td&gt;140&lt;/td&gt;&lt;td&gt;203&lt;/td&gt;&lt;td&gt;48&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;52&lt;/td&gt;&lt;td&gt;142&lt;/td&gt;&lt;td&gt;16&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;97&lt;/td&gt;&lt;td&gt;197&lt;/td&gt;&lt;td&gt;0.327&lt;/td&gt;&lt;td&gt;0.428&lt;/td&gt;&lt;td&gt;0.666&lt;/td&gt;&lt;td&gt;1.094&lt;/td&gt;&lt;td&gt;413&lt;/td&gt;&lt;td&gt;1000&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Ryan Braun&lt;/td&gt;&lt;td&gt;23&lt;/td&gt;&lt;td&gt;1.67&lt;/td&gt;&lt;td&gt;199&lt;/td&gt;&lt;td&gt;864&lt;/td&gt;&lt;td&gt;767&lt;/td&gt;&lt;td&gt;131&lt;/td&gt;&lt;td&gt;240&lt;/td&gt;&lt;td&gt;61&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;td&gt;42&lt;/td&gt;&lt;td&gt;144&lt;/td&gt;&lt;td&gt;34&lt;/td&gt;&lt;td&gt;12&lt;/td&gt;&lt;td&gt;70&lt;/td&gt;&lt;td&gt;151&lt;/td&gt;&lt;td&gt;0.313&lt;/td&gt;&lt;td&gt;0.375&lt;/td&gt;&lt;td&gt;0.572&lt;/td&gt;&lt;td&gt;0.947&lt;/td&gt;&lt;td&gt;439&lt;/td&gt;&lt;td&gt;926&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Alex Gordon*&lt;/td&gt;&lt;td&gt;26&lt;/td&gt;&lt;td&gt;1.89&lt;/td&gt;&lt;td&gt;235&lt;/td&gt;&lt;td&gt;1061&lt;/td&gt;&lt;td&gt;867&lt;/td&gt;&lt;td&gt;199&lt;/td&gt;&lt;td&gt;278&lt;/td&gt;&lt;td&gt;69&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;48&lt;/td&gt;&lt;td&gt;170&lt;/td&gt;&lt;td&gt;30&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;155&lt;/td&gt;&lt;td&gt;212&lt;/td&gt;&lt;td&gt;0.321&lt;/td&gt;&lt;td&gt;0.438&lt;/td&gt;&lt;td&gt;0.578&lt;/td&gt;&lt;td&gt;1.016&lt;/td&gt;&lt;td&gt;501&lt;/td&gt;&lt;td&gt;906&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Kelvin Diaz&lt;/td&gt;&lt;td&gt;21&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;182&lt;/td&gt;&lt;td&gt;765&lt;/td&gt;&lt;td&gt;639&lt;/td&gt;&lt;td&gt;117&lt;/td&gt;&lt;td&gt;213&lt;/td&gt;&lt;td&gt;47&lt;/td&gt;&lt;td&gt;7&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;147&lt;/td&gt;&lt;td&gt;23&lt;/td&gt;&lt;td&gt;12&lt;/td&gt;&lt;td&gt;74&lt;/td&gt;&lt;td&gt;92&lt;/td&gt;&lt;td&gt;0.333&lt;/td&gt;&lt;td&gt;0.426&lt;/td&gt;&lt;td&gt;0.532&lt;/td&gt;&lt;td&gt;0.958&lt;/td&gt;&lt;td&gt;340&lt;/td&gt;&lt;td&gt;903&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Jake Lamb*&lt;/td&gt;&lt;td&gt;23&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;244&lt;/td&gt;&lt;td&gt;1079&lt;/td&gt;&lt;td&gt;920&lt;/td&gt;&lt;td&gt;158&lt;/td&gt;&lt;td&gt;295&lt;/td&gt;&lt;td&gt;83&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;td&gt;37&lt;/td&gt;&lt;td&gt;193&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;127&lt;/td&gt;&lt;td&gt;229&lt;/td&gt;&lt;td&gt;0.321&lt;/td&gt;&lt;td&gt;0.406&lt;/td&gt;&lt;td&gt;0.553&lt;/td&gt;&lt;td&gt;0.959&lt;/td&gt;&lt;td&gt;509&lt;/td&gt;&lt;td&gt;902&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;D.J. Peterson&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;1.25&lt;/td&gt;&lt;td&gt;178&lt;/td&gt;&lt;td&gt;777&lt;/td&gt;&lt;td&gt;703&lt;/td&gt;&lt;td&gt;119&lt;/td&gt;&lt;td&gt;210&lt;/td&gt;&lt;td&gt;42&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;44&lt;/td&gt;&lt;td&gt;158&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;65&lt;/td&gt;&lt;td&gt;158&lt;/td&gt;&lt;td&gt;0.299&lt;/td&gt;&lt;td&gt;0.362&lt;/td&gt;&lt;td&gt;0.552&lt;/td&gt;&lt;td&gt;0.914&lt;/td&gt;&lt;td&gt;388&lt;/td&gt;&lt;td&gt;896&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Matt Williams&lt;/td&gt;&lt;td&gt;36&lt;/td&gt;&lt;td&gt;2.17&lt;/td&gt;&lt;td&gt;21&lt;/td&gt;&lt;td&gt;71&lt;/td&gt;&lt;td&gt;65&lt;/td&gt;&lt;td&gt;11&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;15&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;0.338&lt;/td&gt;&lt;td&gt;0.394&lt;/td&gt;&lt;td&gt;0.646&lt;/td&gt;&lt;td&gt;1.04&lt;/td&gt;&lt;td&gt;42&lt;/td&gt;&lt;td&gt;894&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Evan Longoria&lt;/td&gt;&lt;td&gt;26&lt;/td&gt;&lt;td&gt;2.37&lt;/td&gt;&lt;td&gt;219&lt;/td&gt;&lt;td&gt;937&lt;/td&gt;&lt;td&gt;803&lt;/td&gt;&lt;td&gt;145&lt;/td&gt;&lt;td&gt;238&lt;/td&gt;&lt;td&gt;43&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;47&lt;/td&gt;&lt;td&gt;160&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;104&lt;/td&gt;&lt;td&gt;170&lt;/td&gt;&lt;td&gt;0.296&lt;/td&gt;&lt;td&gt;0.385&lt;/td&gt;&lt;td&gt;0.528&lt;/td&gt;&lt;td&gt;0.913&lt;/td&gt;&lt;td&gt;424&lt;/td&gt;&lt;td&gt;890&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Jose Fernandez&lt;/td&gt;&lt;td&gt;26&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;255&lt;/td&gt;&lt;td&gt;1052&lt;/td&gt;&lt;td&gt;920&lt;/td&gt;&lt;td&gt;169&lt;/td&gt;&lt;td&gt;287&lt;/td&gt;&lt;td&gt;74&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;41&lt;/td&gt;&lt;td&gt;182&lt;/td&gt;&lt;td&gt;19&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;td&gt;104&lt;/td&gt;&lt;td&gt;184&lt;/td&gt;&lt;td&gt;0.312&lt;/td&gt;&lt;td&gt;0.389&lt;/td&gt;&lt;td&gt;0.537&lt;/td&gt;&lt;td&gt;0.926&lt;/td&gt;&lt;td&gt;494&lt;/td&gt;&lt;td&gt;889&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Albert Pujols&lt;/td&gt;&lt;td&gt;20&lt;/td&gt;&lt;td&gt;1.67&lt;/td&gt;&lt;td&gt;133&lt;/td&gt;&lt;td&gt;544&lt;/td&gt;&lt;td&gt;490&lt;/td&gt;&lt;td&gt;74&lt;/td&gt;&lt;td&gt;154&lt;/td&gt;&lt;td&gt;41&lt;/td&gt;&lt;td&gt;7&lt;/td&gt;&lt;td&gt;19&lt;/td&gt;&lt;td&gt;96&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;46&lt;/td&gt;&lt;td&gt;47&lt;/td&gt;&lt;td&gt;0.314&lt;/td&gt;&lt;td&gt;0.378&lt;/td&gt;&lt;td&gt;0.543&lt;/td&gt;&lt;td&gt;0.921&lt;/td&gt;&lt;td&gt;266&lt;/td&gt;&lt;td&gt;887&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Pedro Feliz&lt;/td&gt;&lt;td&gt;36&lt;/td&gt;&lt;td&gt;2.5&lt;/td&gt;&lt;td&gt;156&lt;/td&gt;&lt;td&gt;646&lt;/td&gt;&lt;td&gt;606&lt;/td&gt;&lt;td&gt;96&lt;/td&gt;&lt;td&gt;174&lt;/td&gt;&lt;td&gt;39&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;38&lt;/td&gt;&lt;td&gt;119&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;31&lt;/td&gt;&lt;td&gt;110&lt;/td&gt;&lt;td&gt;0.287&lt;/td&gt;&lt;td&gt;0.321&lt;/td&gt;&lt;td&gt;0.546&lt;/td&gt;&lt;td&gt;0.867&lt;/td&gt;&lt;td&gt;331&lt;/td&gt;&lt;td&gt;883&lt;/td&gt;&lt;/tr&gt;
 &lt;/table&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;You might have heard of a few of those names. The issue with these similarities is that they encompass a player&amp;rsquo;s &lt;i&gt;career&lt;/i&gt; minor league statistics; we&amp;rsquo;re more interested in the performance of Bryant&amp;rsquo;s same-aged peers.&lt;/p&gt;

&lt;h3&gt;Similarities - Age&lt;/h3&gt;

&lt;p&gt;Let&amp;rsquo;s see how he compares to other 22 year old players:&lt;/p&gt;

&lt;p&gt;&lt;div class=&#34;table-responsive&#34;&gt;&lt;table class=&#34;table table-hover&#34;&gt;
&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Age&lt;/th&gt;&lt;th&gt;LevEq&lt;/th&gt;&lt;th&gt;G&lt;/th&gt;&lt;th&gt;PA&lt;/th&gt;&lt;th&gt;AB&lt;/th&gt;&lt;th&gt;R&lt;/th&gt;&lt;th&gt;H&lt;/th&gt;&lt;th&gt;X2B&lt;/th&gt;&lt;th&gt;X3B&lt;/th&gt;&lt;th&gt;HR&lt;/th&gt;&lt;th&gt;RBI&lt;/th&gt;&lt;th&gt;SB&lt;/th&gt;&lt;th&gt;CS&lt;/th&gt;&lt;th&gt;BB&lt;/th&gt;&lt;th&gt;SO&lt;/th&gt;&lt;th&gt;BA&lt;/th&gt;&lt;th&gt;OBP&lt;/th&gt;&lt;th&gt;SLG&lt;/th&gt;&lt;th&gt;OPS&lt;/th&gt;&lt;th&gt;TB&lt;/th&gt;&lt;th&gt;SS&lt;/th&gt;&lt;/tr&gt;
 &lt;tr class=&#34;success&#34;&gt;&lt;td&gt;Kris Bryant&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;2.5&lt;/td&gt;&lt;td&gt;174&lt;/td&gt;&lt;td&gt;740&lt;/td&gt;&lt;td&gt;620&lt;/td&gt;&lt;td&gt;140&lt;/td&gt;&lt;td&gt;203&lt;/td&gt;&lt;td&gt;48&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;52&lt;/td&gt;&lt;td&gt;142&lt;/td&gt;&lt;td&gt;16&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;97&lt;/td&gt;&lt;td&gt;197&lt;/td&gt;&lt;td&gt;0.327&lt;/td&gt;&lt;td&gt;0.428&lt;/td&gt;&lt;td&gt;0.666&lt;/td&gt;&lt;td&gt;1.095&lt;/td&gt;&lt;td&gt;413&lt;/td&gt;&lt;td&gt;1000&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Alex Gordon*&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;130&lt;/td&gt;&lt;td&gt;576&lt;/td&gt;&lt;td&gt;486&lt;/td&gt;&lt;td&gt;111&lt;/td&gt;&lt;td&gt;158&lt;/td&gt;&lt;td&gt;39&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;29&lt;/td&gt;&lt;td&gt;101&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;72&lt;/td&gt;&lt;td&gt;113&lt;/td&gt;&lt;td&gt;0.325&lt;/td&gt;&lt;td&gt;0.427&lt;/td&gt;&lt;td&gt;0.588&lt;/td&gt;&lt;td&gt;1.016&lt;/td&gt;&lt;td&gt;286&lt;/td&gt;&lt;td&gt;932&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Corey Dickerson*&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;175&lt;/td&gt;&lt;td&gt;743&lt;/td&gt;&lt;td&gt;659&lt;/td&gt;&lt;td&gt;132&lt;/td&gt;&lt;td&gt;204&lt;/td&gt;&lt;td&gt;49&lt;/td&gt;&lt;td&gt;14&lt;/td&gt;&lt;td&gt;45&lt;/td&gt;&lt;td&gt;148&lt;/td&gt;&lt;td&gt;21&lt;/td&gt;&lt;td&gt;12&lt;/td&gt;&lt;td&gt;67&lt;/td&gt;&lt;td&gt;150&lt;/td&gt;&lt;td&gt;0.31&lt;/td&gt;&lt;td&gt;0.38&lt;/td&gt;&lt;td&gt;0.631&lt;/td&gt;&lt;td&gt;1.011&lt;/td&gt;&lt;td&gt;416&lt;/td&gt;&lt;td&gt;924&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Nick Akins&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;126&lt;/td&gt;&lt;td&gt;548&lt;/td&gt;&lt;td&gt;472&lt;/td&gt;&lt;td&gt;94&lt;/td&gt;&lt;td&gt;152&lt;/td&gt;&lt;td&gt;40&lt;/td&gt;&lt;td&gt;7&lt;/td&gt;&lt;td&gt;32&lt;/td&gt;&lt;td&gt;120&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;58&lt;/td&gt;&lt;td&gt;135&lt;/td&gt;&lt;td&gt;0.322&lt;/td&gt;&lt;td&gt;0.407&lt;/td&gt;&lt;td&gt;0.64&lt;/td&gt;&lt;td&gt;1.047&lt;/td&gt;&lt;td&gt;302&lt;/td&gt;&lt;td&gt;921&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Kevin Mench&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;132&lt;/td&gt;&lt;td&gt;583&lt;/td&gt;&lt;td&gt;491&lt;/td&gt;&lt;td&gt;118&lt;/td&gt;&lt;td&gt;164&lt;/td&gt;&lt;td&gt;39&lt;/td&gt;&lt;td&gt;9&lt;/td&gt;&lt;td&gt;27&lt;/td&gt;&lt;td&gt;121&lt;/td&gt;&lt;td&gt;19&lt;/td&gt;&lt;td&gt;7&lt;/td&gt;&lt;td&gt;78&lt;/td&gt;&lt;td&gt;72&lt;/td&gt;&lt;td&gt;0.334&lt;/td&gt;&lt;td&gt;0.427&lt;/td&gt;&lt;td&gt;0.615&lt;/td&gt;&lt;td&gt;1.042&lt;/td&gt;&lt;td&gt;302&lt;/td&gt;&lt;td&gt;909&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Ryan Braun&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;1.5&lt;/td&gt;&lt;td&gt;165&lt;/td&gt;&lt;td&gt;730&lt;/td&gt;&lt;td&gt;650&lt;/td&gt;&lt;td&gt;103&lt;/td&gt;&lt;td&gt;200&lt;/td&gt;&lt;td&gt;49&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;td&gt;32&lt;/td&gt;&lt;td&gt;122&lt;/td&gt;&lt;td&gt;30&lt;/td&gt;&lt;td&gt;9&lt;/td&gt;&lt;td&gt;55&lt;/td&gt;&lt;td&gt;140&lt;/td&gt;&lt;td&gt;0.308&lt;/td&gt;&lt;td&gt;0.367&lt;/td&gt;&lt;td&gt;0.549&lt;/td&gt;&lt;td&gt;0.917&lt;/td&gt;&lt;td&gt;357&lt;/td&gt;&lt;td&gt;907&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Mark Teixeira#&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;1.5&lt;/td&gt;&lt;td&gt;86&lt;/td&gt;&lt;td&gt;375&lt;/td&gt;&lt;td&gt;321&lt;/td&gt;&lt;td&gt;63&lt;/td&gt;&lt;td&gt;102&lt;/td&gt;&lt;td&gt;21&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;19&lt;/td&gt;&lt;td&gt;69&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;46&lt;/td&gt;&lt;td&gt;60&lt;/td&gt;&lt;td&gt;0.318&lt;/td&gt;&lt;td&gt;0.413&lt;/td&gt;&lt;td&gt;0.592&lt;/td&gt;&lt;td&gt;1.005&lt;/td&gt;&lt;td&gt;190&lt;/td&gt;&lt;td&gt;904&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Jake Lamb*&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;0.5&lt;/td&gt;&lt;td&gt;136&lt;/td&gt;&lt;td&gt;619&lt;/td&gt;&lt;td&gt;528&lt;/td&gt;&lt;td&gt;95&lt;/td&gt;&lt;td&gt;167&lt;/td&gt;&lt;td&gt;44&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;109&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;74&lt;/td&gt;&lt;td&gt;126&lt;/td&gt;&lt;td&gt;0.316&lt;/td&gt;&lt;td&gt;0.405&lt;/td&gt;&lt;td&gt;0.544&lt;/td&gt;&lt;td&gt;0.949&lt;/td&gt;&lt;td&gt;287&lt;/td&gt;&lt;td&gt;902&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;James Darnell&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;142&lt;/td&gt;&lt;td&gt;630&lt;/td&gt;&lt;td&gt;524&lt;/td&gt;&lt;td&gt;89&lt;/td&gt;&lt;td&gt;167&lt;/td&gt;&lt;td&gt;41&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;96&lt;/td&gt;&lt;td&gt;9&lt;/td&gt;&lt;td&gt;7&lt;/td&gt;&lt;td&gt;98&lt;/td&gt;&lt;td&gt;101&lt;/td&gt;&lt;td&gt;0.319&lt;/td&gt;&lt;td&gt;0.428&lt;/td&gt;&lt;td&gt;0.542&lt;/td&gt;&lt;td&gt;0.97&lt;/td&gt;&lt;td&gt;284&lt;/td&gt;&lt;td&gt;901&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Jedd Gyorko&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;1.5&lt;/td&gt;&lt;td&gt;208&lt;/td&gt;&lt;td&gt;945&lt;/td&gt;&lt;td&gt;844&lt;/td&gt;&lt;td&gt;154&lt;/td&gt;&lt;td&gt;273&lt;/td&gt;&lt;td&gt;64&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;32&lt;/td&gt;&lt;td&gt;155&lt;/td&gt;&lt;td&gt;14&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;92&lt;/td&gt;&lt;td&gt;171&lt;/td&gt;&lt;td&gt;0.323&lt;/td&gt;&lt;td&gt;0.392&lt;/td&gt;&lt;td&gt;0.518&lt;/td&gt;&lt;td&gt;0.909&lt;/td&gt;&lt;td&gt;437&lt;/td&gt;&lt;td&gt;900&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;Hunter Pence&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;1.0&lt;/td&gt;&lt;td&gt;172&lt;/td&gt;&lt;td&gt;737&lt;/td&gt;&lt;td&gt;652&lt;/td&gt;&lt;td&gt;119&lt;/td&gt;&lt;td&gt;207&lt;/td&gt;&lt;td&gt;40&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;39&lt;/td&gt;&lt;td&gt;127&lt;/td&gt;&lt;td&gt;12&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;td&gt;79&lt;/td&gt;&lt;td&gt;120&lt;/td&gt;&lt;td&gt;0.317&lt;/td&gt;&lt;td&gt;0.391&lt;/td&gt;&lt;td&gt;0.574&lt;/td&gt;&lt;td&gt;0.964&lt;/td&gt;&lt;td&gt;374&lt;/td&gt;&lt;td&gt;898&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;&lt;/div&gt;&lt;/p&gt;

&lt;p&gt;Still a very impressive list. Using these similar players, lets take a play out of the PECOTA playbook and generate some basic projections without adjusting for outside effects (park factors, leagues, league-wide performance shifts, etc). By simply calculating the mean of these top 10 player comparables for each statistical category we can get a general idea of Bryant&amp;rsquo;s future performance.&lt;/p&gt;

&lt;h3&gt;10 Year Projection - Kris Bryant&lt;/h3&gt;

&lt;p&gt;&lt;div class=&#34;table-responsive&#34;&gt;&lt;table class=&#34;table table-hover&#34;&gt;&lt;th&gt;Year&lt;/th&gt;&lt;th&gt;Age&lt;/th&gt;&lt;th&gt;LevEq&lt;/th&gt;&lt;th&gt;G&lt;/th&gt;&lt;th&gt;PA&lt;/th&gt;&lt;th&gt;AB&lt;/th&gt;&lt;th&gt;R&lt;/th&gt;&lt;th&gt;H&lt;/th&gt;&lt;th&gt;X2B&lt;/th&gt;&lt;th&gt;X3B&lt;/th&gt;&lt;th&gt;HR&lt;/th&gt;&lt;th&gt;RBI&lt;/th&gt;&lt;th&gt;SB&lt;/th&gt;&lt;th&gt;CS&lt;/th&gt;&lt;th&gt;BB&lt;/th&gt;&lt;th&gt;SO&lt;/th&gt;&lt;th&gt;BA&lt;/th&gt;&lt;th&gt;OBP&lt;/th&gt;&lt;th&gt;SLG&lt;/th&gt;&lt;th&gt;OPS&lt;/th&gt;&lt;th&gt;Count&lt;/th&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;2015&lt;/td&gt;&lt;td&gt;23&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;130&lt;/td&gt;&lt;td&gt;548&lt;/td&gt;&lt;td&gt;489&lt;/td&gt;&lt;td&gt;76&lt;/td&gt;&lt;td&gt;138&lt;/td&gt;&lt;td&gt;32&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;24&lt;/td&gt;&lt;td&gt;83&lt;/td&gt;&lt;td&gt;9&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;47&lt;/td&gt;&lt;td&gt;105&lt;/td&gt;&lt;td&gt;0.282&lt;/td&gt;&lt;td&gt;0.35&lt;/td&gt;&lt;td&gt;0.515&lt;/td&gt;&lt;td&gt;0.865&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;2016&lt;/td&gt;&lt;td&gt;24&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;132&lt;/td&gt;&lt;td&gt;551&lt;/td&gt;&lt;td&gt;492&lt;/td&gt;&lt;td&gt;77&lt;/td&gt;&lt;td&gt;140&lt;/td&gt;&lt;td&gt;32&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;23&lt;/td&gt;&lt;td&gt;77&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;49&lt;/td&gt;&lt;td&gt;107&lt;/td&gt;&lt;td&gt;0.285&lt;/td&gt;&lt;td&gt;0.354&lt;/td&gt;&lt;td&gt;0.51&lt;/td&gt;&lt;td&gt;0.864&lt;/td&gt;&lt;td&gt;9&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;2017&lt;/td&gt;&lt;td&gt;25&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;115&lt;/td&gt;&lt;td&gt;476&lt;/td&gt;&lt;td&gt;424&lt;/td&gt;&lt;td&gt;66&lt;/td&gt;&lt;td&gt;121&lt;/td&gt;&lt;td&gt;26&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;20&lt;/td&gt;&lt;td&gt;72&lt;/td&gt;&lt;td&gt;7&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;43&lt;/td&gt;&lt;td&gt;89&lt;/td&gt;&lt;td&gt;0.285&lt;/td&gt;&lt;td&gt;0.356&lt;/td&gt;&lt;td&gt;0.502&lt;/td&gt;&lt;td&gt;0.859&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;2018&lt;/td&gt;&lt;td&gt;26&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;129&lt;/td&gt;&lt;td&gt;543&lt;/td&gt;&lt;td&gt;478&lt;/td&gt;&lt;td&gt;76&lt;/td&gt;&lt;td&gt;135&lt;/td&gt;&lt;td&gt;31&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;73&lt;/td&gt;&lt;td&gt;7&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;56&lt;/td&gt;&lt;td&gt;93&lt;/td&gt;&lt;td&gt;0.282&lt;/td&gt;&lt;td&gt;0.363&lt;/td&gt;&lt;td&gt;0.498&lt;/td&gt;&lt;td&gt;0.861&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;2019&lt;/td&gt;&lt;td&gt;27&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;148&lt;/td&gt;&lt;td&gt;635&lt;/td&gt;&lt;td&gt;569&lt;/td&gt;&lt;td&gt;92&lt;/td&gt;&lt;td&gt;169&lt;/td&gt;&lt;td&gt;36&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;28&lt;/td&gt;&lt;td&gt;94&lt;/td&gt;&lt;td&gt;15&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;td&gt;58&lt;/td&gt;&lt;td&gt;104&lt;/td&gt;&lt;td&gt;0.297&lt;/td&gt;&lt;td&gt;0.365&lt;/td&gt;&lt;td&gt;0.522&lt;/td&gt;&lt;td&gt;0.887&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;2020&lt;/td&gt;&lt;td&gt;28&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;151&lt;/td&gt;&lt;td&gt;647&lt;/td&gt;&lt;td&gt;574&lt;/td&gt;&lt;td&gt;87&lt;/td&gt;&lt;td&gt;174&lt;/td&gt;&lt;td&gt;38&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;25&lt;/td&gt;&lt;td&gt;94&lt;/td&gt;&lt;td&gt;11&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;64&lt;/td&gt;&lt;td&gt;109&lt;/td&gt;&lt;td&gt;0.303&lt;/td&gt;&lt;td&gt;0.376&lt;/td&gt;&lt;td&gt;0.51&lt;/td&gt;&lt;td&gt;0.886&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;2021&lt;/td&gt;&lt;td&gt;29&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;127&lt;/td&gt;&lt;td&gt;532&lt;/td&gt;&lt;td&gt;475&lt;/td&gt;&lt;td&gt;70&lt;/td&gt;&lt;td&gt;130&lt;/td&gt;&lt;td&gt;26&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;20&lt;/td&gt;&lt;td&gt;77&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;47&lt;/td&gt;&lt;td&gt;96&lt;/td&gt;&lt;td&gt;0.274&lt;/td&gt;&lt;td&gt;0.343&lt;/td&gt;&lt;td&gt;0.472&lt;/td&gt;&lt;td&gt;0.815&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;2022&lt;/td&gt;&lt;td&gt;30&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;143&lt;/td&gt;&lt;td&gt;591&lt;/td&gt;&lt;td&gt;525&lt;/td&gt;&lt;td&gt;81&lt;/td&gt;&lt;td&gt;141&lt;/td&gt;&lt;td&gt;32&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;21&lt;/td&gt;&lt;td&gt;81&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;56&lt;/td&gt;&lt;td&gt;104&lt;/td&gt;&lt;td&gt;0.269&lt;/td&gt;&lt;td&gt;0.345&lt;/td&gt;&lt;td&gt;0.461&lt;/td&gt;&lt;td&gt;0.806&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;2023&lt;/td&gt;&lt;td&gt;31&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;159&lt;/td&gt;&lt;td&gt;696&lt;/td&gt;&lt;td&gt;620&lt;/td&gt;&lt;td&gt;98&lt;/td&gt;&lt;td&gt;163&lt;/td&gt;&lt;td&gt;28&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;td&gt;30&lt;/td&gt;&lt;td&gt;93&lt;/td&gt;&lt;td&gt;9&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;64&lt;/td&gt;&lt;td&gt;120&lt;/td&gt;&lt;td&gt;0.263&lt;/td&gt;&lt;td&gt;0.336&lt;/td&gt;&lt;td&gt;0.473&lt;/td&gt;&lt;td&gt;0.808&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;/tr&gt;
 &lt;tr&gt;&lt;td&gt;2024&lt;/td&gt;&lt;td&gt;32&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;118&lt;/td&gt;&lt;td&gt;440&lt;/td&gt;&lt;td&gt;380&lt;/td&gt;&lt;td&gt;48&lt;/td&gt;&lt;td&gt;93&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;14&lt;/td&gt;&lt;td&gt;63&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;46&lt;/td&gt;&lt;td&gt;60&lt;/td&gt;&lt;td&gt;0.245&lt;/td&gt;&lt;td&gt;0.327&lt;/td&gt;&lt;td&gt;0.418&lt;/td&gt;&lt;td&gt;0.745&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;&lt;/div&gt;&lt;/p&gt;

&lt;h3&gt;Lets take that table and visualize it! &lt;/h3&gt;

&lt;p&gt;Using &lt;a href=&#34;http://ramnathv.github.io/rCharts&#34;&gt;rCharts&lt;/a&gt;, an interactive visualization package maintained by &lt;a href=&#34;https://github.com/ramnathv&#34;&gt;Ramnath Vaidyanathan&lt;/a&gt;, I created a Rmarkdown page with knitr displaying the projection data.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://mikeleeco.github.io/posts/2015-03-25-bryant-visualization/&#34;&gt;Have a look!&lt;/a&gt;
&lt;p&gt;&lt;/p&gt;
&lt;div class=&#34;well&#34;&gt;&lt;a class=&#34;btn btn-primary btn-lg btn-block&#34; href=&#34;https://mikeleeco.github.io/posts/2015-03-25-bryant-visualization/&#34;&gt;Bryant Projection Visualization&lt;/a&gt;&lt;/p&gt;&lt;/button&gt;&lt;/div&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;Have feedback, questions, or want to see something else added? Check out the code I used to create &lt;a href=&#34;https://github.com/mikeleeco/mikeleeco.github.com/blob/master/_posts/2015-03-25-milb-similarity-scores.md&#34;&gt;this page&lt;/a&gt; or fork my repository to propose changes. &lt;a class=&#34;btn btn-primary&#34; href=&#34;https://github.com/mikeleeco/Kris-Bryant-Projection/fork&#34;&gt;Edit My Code&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Let&#39;s Make a Minor League Baseball Database!</title>
      <link>https://mikeleeco.github.io/posts/2015-02-23-milb-scraper-with-rvest/</link>
      <pubDate>Mon, 23 Feb 2015 00:00:00 +0000</pubDate>
      <author>mdlee12@gmail.com (Michael Lee)</author>
      <guid>https://mikeleeco.github.io/posts/2015-02-23-milb-scraper-with-rvest/</guid>
      <description>&lt;p&gt;
Baseball is a game of numbers, some more accessible than others. Rates, averages, linear weights, aging curves, and WAR are only a few of the myriad statistics influencing decision makers in MLB franchises. An endless amount of data is accessible to the average fan at many sites, most notably the &lt;a href=&#34;http://www.seanlahman.com/baseball-archive/statistics/&#34;&gt;Lahman Baseball Database&lt;/a&gt;, which is the most robust catalog of MLB player statistics available to the public.
&lt;/p&gt;
&lt;p&gt;
One area of relatively limited accessibility to the average fan is statistics for Minor League players. Though player statistics by position, year, and team are available at many sites, a thorough catalog of MiLB data akin to the Lahman database is unavailable. I wonder who &lt;a href=&#34;http://www.baseball-reference.com/minors/player.cgi?id=bryant001kri&#34;&gt;Kris Bryant&lt;/a&gt; would be most similar to? &lt;/p&gt;

&lt;p&gt;&lt;p&gt;What do you mean Baseball Reference doesn&#39;t calculate similarity scores for minor league players?&lt;/p&gt;&lt;/p&gt;

&lt;p&gt;&lt;a class=&#34;btn btn-success btn-lg btn-block&#34; href=&#34;https://www.youtube.com/watch?v=bnRrvOb0m-I&#34;&gt;As If Button&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;h2&gt;Let&#39;s make our own damn database!&lt;/h2&gt;&lt;/strong&gt;  
&lt;/p&gt;

&lt;p&gt;To make our database we&amp;rsquo;re going to use &lt;a href=&#34;https://github.com/hadley/rvest&#34;&gt;rvest&lt;/a&gt;, an R package designed by Hadley Wickham at RStudio [^1]. The package scrapes HTML from webpages and extracts it into readable data. Let&amp;rsquo;s load the necessary packages and go from there:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;#if you haven&#39;t done so already, install rvest from Wickham&#39;s github repository
# install.packages(&amp;quot;devtools&amp;quot;)
# install_github(&amp;quot;hadley/rvest&amp;quot;)
c(&#39;rvest&#39;,&#39;dplyr&#39;) -&amp;gt; packages #installs packages
lapply(packages, library, character.only = T)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The function below will construct each team&#39;s minor league website, for every desired year, and pull out the same table every time.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;# prep scraper
url &amp;lt;- &amp;quot;http://www.baseball-reference.com/minors/&amp;quot;
teams=c(&amp;quot;ARI&amp;quot;)
stats_table &amp;lt;- &#39;#team_batting.sortable.stats_table&#39;
stats_id &amp;lt;- paste0(stats_table,&#39; a&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;
Let&#39;s start with the Arizona Diamondbacks batting statistics from 2012-2014. We&#39;ll call the data frame we&#39;re about to pull the variable &lt;strong&gt;&#34;minors_batting_ARI&#34;&lt;/strong&gt;. We&#39;re reconstructing the url &lt;code&gt;http://www.baseball-reference.com/minors/affiliate.cgi?id=ARI&amp;year=2014&lt;/code&gt; and instructing the scraper to pull the necessary data table and then repeat the process for next season. We&#39;re calling the pulled data table &#39;df&#39; for simplicity.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;minors_batting_ARI &amp;lt;- data.frame()

  # for loop by teams and seasonfor (teams in teams){ 
  for (season in 2014:2012) {
    html &amp;lt;- paste(url,&amp;quot;affiliate.cgi?id=&amp;quot;,teams,&amp;quot;&amp;amp;year=&amp;quot;,season,sep=&amp;quot;&amp;quot;)

    # batting stats
    read_html(html) %&amp;gt;%
      html_nodes(stats_table) %&amp;gt;%
      html_table(header = T) %&amp;gt;%
      data.frame() %&amp;gt;%
      tbl_df() -&amp;gt; df
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;So far our code will scrape the batting table from the team&#39;s minor league page, but we also need to extract each player&#39;s Minor League baseball-reference id using it&#39;s href. Isn&#39;t that right Chris Young? No. Not you, &lt;a href=&#34;http://www.baseball-reference.com/players/y/youngch04.shtml&#34;&gt;Chris Young&lt;/a&gt;. The other, lankier &lt;a href=&#34;http://www.baseball-reference.com/players/y/youngch03.shtml&#34;&gt;Chris Young&lt;/a&gt;. We&#39;re good man, no need to &lt;a href=&#34;http://youtu.be/1EiqELgKp5g?t=56s&#34;&gt;get angry&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This portion of code extracts the attributes of the URL in the table and changes them into characters:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;    # player info
    read_html(html) %&amp;gt;%
      html_nodes(stats_id) %&amp;gt;%
      html_attr(name=&amp;quot;href&amp;quot;) %&amp;gt;% unlist %&amp;gt;% as.character -&amp;gt; min_playerid
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Using R formatting code we delete unnecessary rows and create a column called &lt;i&gt;bref_player_id&lt;/i&gt; to assign each player&amp;rsquo;s unique reference id. We&amp;rsquo;re trimming out characters from the href attributes we don&amp;rsquo;t need, leaving only the reference ids.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;    # clean dataframe and add team and season info
    df &amp;lt;- df[1:nrow(df),]
    df &amp;lt;- df[!na.omit(df$Rk==&#39;Rk&#39;),]
    df$season &amp;lt;- c(season)
    df$teams &amp;lt;- c(teams)

    # remove url data
    min_playerid=gsub(&amp;quot;/register/player.cgi?id=&amp;quot;, &amp;quot;&amp;quot;, min_playerid,fixed = TRUE)
    df$min_playerid &amp;lt;- c(min_playerid)

    # bind to dataframe
    minors_batting_ARI &amp;lt;- rbind(minors_batting_ARI,df)
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;#to view the dataset and save it as a .csv in our working directory
View(minors_batting_ARI)
write.csv(minors_batting_ARI, &amp;quot;minors_batting_ARI.csv&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;There we are! Arizona&#39;s minor league batting stats from 2012-2014! 824 instances may seem like too much, for only a three year period, but Baseball-reference.com doesn&#39;t aggregate a player&#39;s statistics by year; they do it by level. Therefore, some players may have multiple rows for the same season (aren&#39;t you glad we pulled out the reference id!) &lt;/p&gt;
&lt;div class=&#34;container&#34;&gt;
&lt;figure&gt;
&lt;img src=&#34;https://mikeleeco.github.io/img/minors_batting_ARI.jpg&#34; class=&#34;img-responsive&#34;&gt;&lt;/figure&gt;&lt;/img&gt;
&lt;/figure&gt;
&lt;/div&gt;


&lt;p&gt;... let&#39;s take a left turn on &lt;a href=&#34;http://hardballtalk.nbcsports.com/2013/01/25/the-diamondbacks-are-travelling-down-grit-avenue-and-guts-boulevard-and-grind-parkway/&#34;&gt;Grind Parkway&lt;/a&gt; and pull in &lt;strong&gt;all MiLB batting statistics for 2014&lt;/strong&gt;.&lt;/p&gt;

&lt;h2&gt;MiLB Batting Stats for All Teams&lt;/h2&gt;

&lt;p&gt;First we&#39;ll need a list of baseball-reference&#39;s team codes. I&#39;ll do the dirty work and include franchise codes for each team since 1969 if you want to play with that data &lt;sup class=&#34;bootstrap-footnote&#34; data-text=&#34;For future investigations be aware that other pages of baseball reference use archived team codes such as MON (Montreal Expos) and CAL (California Angels).&#34;&gt;2&lt;/sup&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;teams=c(&amp;quot;ARI&amp;quot;,&amp;quot;ATL&amp;quot;,&amp;quot;BAL&amp;quot;,&amp;quot;BOS&amp;quot;,&amp;quot;CHC&amp;quot;,&amp;quot;CHW&amp;quot;,&amp;quot;CIN&amp;quot;,&amp;quot;CLE&amp;quot;,&amp;quot;COL&amp;quot;,&amp;quot;DET&amp;quot;,&amp;quot;HOU&amp;quot;,&amp;quot;KCR&amp;quot;,&amp;quot;ANA&amp;quot;,&amp;quot;LAD&amp;quot;,&amp;quot;FLA&amp;quot;,&amp;quot;MIL&amp;quot;,&amp;quot;MIN&amp;quot;,&amp;quot;NYM&amp;quot;,&amp;quot;NYY&amp;quot;,&amp;quot;OAK&amp;quot;,&amp;quot;PHI&amp;quot;,&amp;quot;PIT&amp;quot;,&amp;quot;SDP&amp;quot;,&amp;quot;SFG&amp;quot;,&amp;quot;SEA&amp;quot;,&amp;quot;STL&amp;quot;,&amp;quot;TBD&amp;quot;,&amp;quot;TEX&amp;quot;,&amp;quot;TOR&amp;quot;,&amp;quot;WSN&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;url &amp;lt;- &amp;quot;http://www.baseball-reference.com/minors/&amp;quot;
teams=c(&amp;quot;ARI&amp;quot;,&amp;quot;ATL&amp;quot;,&amp;quot;BAL&amp;quot;,&amp;quot;BOS&amp;quot;,&amp;quot;CHC&amp;quot;,&amp;quot;CHW&amp;quot;,&amp;quot;CIN&amp;quot;,&amp;quot;CLE&amp;quot;,&amp;quot;COL&amp;quot;,&amp;quot;DET&amp;quot;,&amp;quot;HOU&amp;quot;,&amp;quot;KCR&amp;quot;,&amp;quot;ANA&amp;quot;,&amp;quot;LAD&amp;quot;,&amp;quot;FLA&amp;quot;,&amp;quot;MIL&amp;quot;,&amp;quot;MIN&amp;quot;,&amp;quot;NYM&amp;quot;,&amp;quot;NYY&amp;quot;,&amp;quot;OAK&amp;quot;,&amp;quot;PHI&amp;quot;,&amp;quot;PIT&amp;quot;,&amp;quot;SDP&amp;quot;,&amp;quot;SFG&amp;quot;,&amp;quot;SEA&amp;quot;,&amp;quot;STL&amp;quot;,&amp;quot;TBD&amp;quot;,&amp;quot;TEX&amp;quot;,&amp;quot;TOR&amp;quot;,&amp;quot;WSN&amp;quot;)
stats_table &amp;lt;- &#39;#team_batting.sortable.stats_table&#39;
stats_id &amp;lt;- paste0(stats_table,&#39; a&#39;)
minors_batting &amp;lt;- data.frame()

# for loop by teams and season
for (teams in teams){ 
  for (season in 2014:2014) {
    html &amp;lt;- paste(url,&amp;quot;affiliate.cgi?id=&amp;quot;,teams,&amp;quot;&amp;amp;year=&amp;quot;,season,sep=&amp;quot;&amp;quot;)

    # batting stats
    read_html(html) %&amp;gt;%
      html_nodes(stats_table) %&amp;gt;%
      html_table(header = T) %&amp;gt;%
      data.frame() %&amp;gt;%
      tbl_df() -&amp;gt; df

    # player info
    read_html(html) %&amp;gt;%
      html_nodes(stats_id) %&amp;gt;%
      html_attr(name=&amp;quot;href&amp;quot;) %&amp;gt;% unlist %&amp;gt;% as.character -&amp;gt; min_playerid

    # clean dataframe and add team and season info
    df &amp;lt;- df[1:nrow(df),]
    df &amp;lt;- df[!na.omit(df$Rk==&#39;Rk&#39;),]
    df$season &amp;lt;- c(season)
    df$teams &amp;lt;- c(teams)

    # remove url data
    min_playerid=gsub(&amp;quot;/register/player.cgi?id=&amp;quot;, &amp;quot;&amp;quot;, min_playerid,fixed = TRUE)
    df$min_playerid &amp;lt;- c(min_playerid)

    # bind to 
    minors_batting &amp;lt;- rbind(minors_batting,df)
  }
}

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To query other seasons or teams, simply change the information selected. For example:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;teams=c(&amp;quot;OAK&amp;quot;,&amp;quot;TBD&amp;quot;)

stats_table &amp;lt;- &#39;#team_batting.sortable.stats_table&#39;
stats_id &amp;lt;- paste0(stats_table,&#39; a&#39;)
minors_batting &amp;lt;- data.frame()

for (teams in teams){ for (season in 2010:2005) {
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Will pull in minor league batting statistics for Oakland and Tampa Bay for the years 2005-2010.&lt;/p&gt;

&lt;p&gt;Lets clean up all of the stray objects besides the &lt;code&gt;minors_batting&lt;/code&gt; dataframe in our working environment before moving on:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;rm(list=setdiff(ls(), &amp;quot;minors_batting&amp;quot;))
&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;Obligatory heads up!&lt;/h3&gt;

&lt;p&gt;This code is querying 30 distinct URLs for every season, so multi-season outputs can take some time. Here are my system.time indicators for the above function:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://mikeleeco.github.io/img/sys_time_MiLB.jpg&#34;&gt;&lt;/p&gt;

&lt;p&gt;The query takes about a 1:45 for every league-wide season pull. &lt;strong&gt;Pro-Tip!&lt;/strong&gt; Get that query going and have some breakfast/lunch/dinner.&lt;/p&gt;

&lt;h4&gt;Coming up...&lt;/h4&gt;

&lt;p&gt;Stay tuned to the site for another post about similarity scores and to learn more about Kris Bryant&amp;rsquo;s best comparisons.&lt;/p&gt;

&lt;h4&gt;Footnotes&lt;/h4&gt;

&lt;p&gt;&lt;sup class=&#34;bootstrap-footnote&#34; data-text=&#34;In baseball terms, one might describe his contributions to R software as equal parts Bill James and Bill Veeck.&#34;&gt;1&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;In baseball terms, one might describe his contributions to R software as equal parts Bill James and Bill Veeck.&lt;/p&gt;

&lt;p&gt;&lt;sup class=&#34;bootstrap-footnote&#34; data-text=&#34;For future investigations be aware that other pages of baseball reference use archived team codes such as MON (Montreal Expos) and CAL (California Angels).&#34;&gt;2&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;For future investigations be aware that other pages of baseball reference use archived team codes such as MON (Montreal Expos) and CAL (California Angels).&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;Have feedback, questions, or want to see something else added? Check out my &lt;a href=&#34;https://github.com/mikeleeco/Baseball-Reference-Scrapers&#34;&gt;MiLB Scraper on github&lt;/a&gt; or fork my repository to propose changes.  &lt;a class=&#34;btn btn-primary&#34; href=&#34;https://github.com/mikeleeco/Baseball-Reference-Scrapers/fork&#34;&gt;Edit My Code&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>