<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Genre Interactive - Visualizing Video Games Throughout History</title>
  <meta property="og:title" content="Genre Interactive - Visualizing Video Games Throughout History" />
  <meta name="twitter:title" content="Genre Interactive - Visualizing Video Games Throughout History" />
  <meta name="description" content="A Guide to the video game rating system using interactive visuals - Genre">
  <meta property="og:description" content="A Guide to the video game rating system using interactive visuals - Genre">
  <meta name="twitter:description" content="A Guide to the video game rating system using interactive visuals - Genre">
  <meta name="author" content="Michael Lee"/>
  <link href='https://mikeleeco.github.io/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta property="og:image" content="https://mikeleeco.github.io/img/avatar-icon.png" />
  <meta name="twitter:image" content="https://mikeleeco.github.io/img/avatar-icon.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@mikeleeco" />
  <meta name="twitter:creator" content="@mikeleeco" />
  <meta property="og:url" content="https://mikeleeco.github.io/interactives/2015-06-10-genre-interactive/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Michael Lee" />

  <meta name="generator" content="Hugo 0.19" />
  <link rel="canonical" href="https://mikeleeco.github.io/interactives/2015-06-10-genre-interactive/" />
  <link rel="alternate" href="https://mikeleeco.github.io/index.xml" type="application/rss+xml" title="Michael Lee">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://mikeleeco.github.io/css/main.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
  <link rel="stylesheet" href="https://mikeleeco.github.io/css/pygment_highlights.css" />
  <link rel="stylesheet" href="https://mikeleeco.github.io/css/highlight.min.css" />
</head>


  <body>

    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://mikeleeco.github.io">Michael Lee</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/posts">Blog</a>
            </li>
          
        
          
            <li>
              <a title="Projects" href="/projects">Projects</a>
            </li>
          
        
          
            <li>
              <a title="Interactives" href="/interactives">Interactives</a>
            </li>
          
        
          
            <li>
              <a title="Animation" href="/animation">Animation</a>
            </li>
          
        
          
            <li>
              <a title="Resume" href="/resume/">Resume</a>
            </li>
          
        
        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
          <a title="Michael Lee" href="https://mikeleeco.github.io">
            <img class="avatar-img" src="https://mikeleeco.github.io/img/avatar-icon.png" alt="Michael Lee" />
          </a>
        
      </div>
    </div>

  </div>
</nav>



    
  
  
  




  
    <div id="header-big-imgs" data-num-img=1 data-img-src-1="https://mikeleeco.github.io/img/genre_interactive.png" data-img-desc-1="Genre Interactive">
    </div>
  

  <header class="header-section has-img">
    
      <div class="intro-header big-img">
        <span class="img-desc" style="display: inline;"></span>
      </div>
    



    <div class="container" role="main">
      
        <div class="container">
  <div class="row">
    <div class="col-lg-12 col-lg-offset-0">

            <h2 class="post-title">Genre Interactive - Visualizing Video Games Throughout History</h2>

    
      <h3 class="post-subtitle">
        A Guide to the video game rating system using interactive visuals - Genre
      </h3>
    
      
    
      <p class="post-meta">
        Posted on June 10, 2015
      </p>
    
      
  
    <span class="post-meta">
      
        <span class="post-tags"><a href="/tags/mobygames">#MobyGames</a></span>&nbsp;
      
        <span class="post-tags"><a href="/tags/video-games">#Video Games</a></span>&nbsp;
      
        <span class="post-tags"><a href="/tags/fivethirtyeight">#FiveThirtyEight</a></span>&nbsp;
      
        <span class="post-tags"><a href="/tags/data">#data</a></span>&nbsp;
      
        <span class="post-tags"><a href="/tags/r">#R</a></span>&nbsp;
      
        <span class="post-tags"><a href="/tags/ggplot2">#ggplot2</a></span>&nbsp;
      
        <span class="post-tags"><a href="/tags/rvest">#rvest</a></span>&nbsp;
      
        <span class="post-tags"><a href="/tags/d3.js">#D3.js</a></span>&nbsp;
      
    </span>
  

        <style>
      svg *::selection {
         background : transparent;
         width: 700px;
         height: 500px;
         margin-left: 30px;
         font-size: 13px; 
      }
     
      svg *::-moz-selection {
         background:transparent;
      } 
     
      svg *::-webkit-selection {
         background:transparent;
      }
      rect.selection {
        stroke          : #333;
        stroke-dasharray: 4px;
        stroke-opacity  : 0.5;
        fill            : transparent;
      }

      rect.cell-border {
        stroke: #eee;
        stroke-width:0.3px;   
      }

      rect.cell-selected {
        stroke: rgb(51,102,153);
        stroke-width:0.5px;   
      }

      rect.cell-hover {
        stroke: #F00;
        stroke-width:0.3px;   
      }

      text.mono {
        font-size: 9pt;
        font-family: Andale Mono, Andale Mono;
        fill: #4a4a4a;
      }

      text.text-selected {
        fill: #000;
      }

      text.text-highlight {
        fill: #c00;
      }
      text.text-hover {
        fill: #00C;
      }
      #tooltip {
        position: absolute;
        width: 200px;
        height: auto;
        padding: 10px;
        background-color: white;
        -webkit-border-radius: 10px;
        -moz-border-radius: 10px;
        border-radius: 10px;
        -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        -moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
        pointer-events: none;
      }

      #tooltip.hidden {
        display: none;
      }

      #tooltip p {
        margin: 0;
        font-family: Andale Mono;
        font-size: 12px;
        line-height: 20px;
      }
</style>

<div id="tooltip" class="hidden">
  <p><span id="value"></span></p>
</div>

<script src="http://d3js.org/d3.v3.min.js"></script>

<div id="chart2" class="text-center"></div>

<script type="text/javascript">
var margin = { top: 175, right: 10, bottom: 50, left: 175 },
  cellSize=12;
  cl_number=43;
  rw_number=8;
  widthy = cellSize*cl_number, // - margin.left - margin.right,
  heighty = cellSize*rw_number , // - margin.top - margin.bottom,
  //gridSize = Math.floor(widthy / 24),
  legendElementWidth = cellSize*2.5,
  colorBuckets = 11,
  colors = ['#FFFFFF','#F1EEF6','#E6D3E1','#DBB9CD','#D19EB9','#C684A4','#BB6990','#B14F7C','#A63467','#9B1A53','#91003F'];
  hcrw = [1,2,3,4,5,6,7,8],
  hccl = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43],
  rwLabel = ['Action','Adventure','Educational','RPG','Racing','Simulation','Sports','Strategy'],
  clLabel = ['Adult','Anime/Manga','Arcade','BattleMech','Board/PartyGame','Cards/Tiles','Casino','Chess','Comics','Cyberpunk/DarkSci-Fi','Detective/Mystery','Fantasy','Fighting','Flight','GameShow','Helicopter','HistoricalBattle','Horror','InteractiveFiction (IF)','IF (w/Graphics)','InteractiveMovie','Managerial','MartialArts','Meditative/Zen','Mental Training','Naval','Paddle/Pong','PersistentUniverse','Pinball','Post-Apocalyptic','Puzzle-Solving','Real-Time','Rhythm/Music','Sci-Fi/Futuristic','Shooter','Spy/Espionage','Stealth','Survival','Tank','Train','Turn-based','VideoBackdrop','VisualNovel'];

d3.csv("/data/data_heatmap2.csv",
function(d) {
  return {
    rw:   +d.rw_id,
    cl:   +d.cl_id,
    value: +d.vgfre
  };
},
function(error, data) {
  var colorScale = d3.scale.linear()
      .domain([ 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
      .range(colors);
  
  var chartb = d3.select("div#chart2").append("svg")
      .attr("width", widthy + margin.left + margin.right)
      .attr("height", heighty + margin.top + margin.bottom)
      .append("g")
      .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
      ;

  var rwSortOrder=false;
  var rwLabels = chartb.append("g")
      .selectAll(".rwLabelg")
      .data(rwLabel)
      .enter()
      .append("text")
      .text(function (d) { return d; })
      .attr("x", 0)
      .attr("y", function (d, i) { return hcrw.indexOf(i+1) * cellSize; })
      .style("text-anchor", "end")
      .attr("transform", "translate(-6," + cellSize / 1.5 + ")")
      .attr("class", function (d,i) { return "rwLabel mono rr"+i;} ) 
      .on("mouseover", function(d) {d3.select(this).classed("text-hover",true);})
      .on("mouseout" , function(d) {d3.select(this).classed("text-hover",false);})
      .on("click", function(d,i) {rwSortOrder=!rwSortOrder; sortbylabel("rr",i,rwSortOrder);d3.select("#order").property("selectedIndex", 4).node().focus();;})
      ;

  var clSortOrder=false;
  var clLabels = chartb.append("g")
      .selectAll(".clLabelg")
      .data(clLabel)
      .enter()
      .append("text")
      .text(function (d) { return d; })
      .attr("x", 0)
      .attr("y", function (d, i) { return hccl.indexOf(i+1) * cellSize; })
      .style("text-anchor", "left")
      .attr("transform", "translate("+cellSize/2 + ",-6) rotate (-90)")
      .attr("class",  function (d,i) { return "clLabel mono cc"+i;} )
      .on("mouseover", function(d) {d3.select(this).classed("text-hover",true);})
      .on("mouseout" , function(d) {d3.select(this).classed("text-hover",false);})
      .on("click", function(d,i) {clSortOrder=!clSortOrder;  sortbylabel("cc",i,clSortOrder);d3.select("#order").property("selectedIndex", 4).node().focus();;})
      ;

  var heat = chartb.append("g").attr("class","g3")
        .selectAll(".cellg")
        .data(data,function(d){return d.rw+":"+d.cl;})
        .enter()
        .append("rect")
        .attr("x", function(d) { return hccl.indexOf(d.cl) * cellSize; })
        .attr("y", function(d) { return hcrw.indexOf(d.rw) * cellSize; })
        .attr("class", function(d){return "cell cell-border ccrr"+(d.rw-1)+" cccc"+(d.cl-1);})
        .attr("width", cellSize)
        .attr("height", cellSize)
        .style("fill", function(d) { return colorScale(d.value); })
        /* .on("click", function(d) {
               var rwtext=d3.select(".rr"+(d.rw-1));
               if(rwtext.classed("text-selected")==false){
                   rwtext.classed("text-selected",true);
               }else{
                   rwtext.classed("text-selected",false);
               }
        })*/
        .on("mouseover", function(d){
               //highlight text
               d3.select(this).classed("cell-hover",true);
               d3.selectAll(".rwLabel").classed("text-highlight",function(r,ri){ return ri==(d.rw-1);});
               d3.selectAll(".clLabel").classed("text-highlight",function(c,ci){ return ci==(d.cl-1);});
        
               //Update the tooltip position and value
               d3.select("#tooltip")
                 .style("left", (d3.event.pageX+10) + "px")
                 .style("top", (d3.event.pageY-10) + "px")
                 .select("#value")
                 .text(d.value+"% of "+rwLabel[d.rw-1]+" games have a "+clLabel[d.cl-1]+" theme");  
               //Show the tooltip
               d3.select("#tooltip").classed("hidden", false);
        })
        .on("mouseout", function(){
               d3.select(this).classed("cell-hover",false);
               d3.selectAll(".rwLabel").classed("text-highlight",false);
               d3.selectAll(".clLabel").classed("text-highlight",false);
               d3.select("#tooltip").classed("hidden", true);
        })
        ;

  var legend = chartb.selectAll(".legend")
      .data([ 0, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
      .enter().append("g")
      .attr("class", "legend");
 
  legend.append("rect")
    .attr("x", function(d, i) { return legendElementWidth * i; })
    .attr("y", heighty+(cellSize*2))
    .attr("width", legendElementWidth)
    .attr("height", cellSize)
    .style("fill", function(d, i) { return colors[i]; });
 
  legend.append("text")
    .attr("class", "mono")
    .text(function(d) { return d; })
    .attr("width", legendElementWidth)
    .attr("x", function(d, i) { return legendElementWidth * i; })
    .attr("y", heighty + (cellSize*4));

// Change ordering of cells

  function sortbylabel(rrORcc,i,sortOrder){
       var t = chartb.transition().duration(1500);
       var vgfre=[];
       var sorted; // sorted is zero-based index
       d3.selectAll(".cc"+rrORcc+i) 
         .filter(function(ce){
            vgfre.push(ce.value);
          })
       ;
       if(rrORcc=="rr"){ // sort vgfre of a gene
         sorted=d3.range(cl_number).sort(function(a,b){ if(sortOrder){ return vgfre[b]-vgfre[a];}else{ return vgfre[a]-vgfre[b];}});
         t.selectAll(".cell")
           .attr("x", function(d) { return sorted.indexOf(d.cl-1) * cellSize; })
           ;
         t.selectAll(".clLabel")
          .attr("y", function (d, i) { return sorted.indexOf(i) * cellSize; })
         ;
       }else{ // sort vgfreq of a contrast
         sorted=d3.range(rw_number).sort(function(a,b){if(sortOrder){ return vgfre[b]-vgfre[a];}else{ return vgfre[a]-vgfre[b];}});
         t.selectAll(".cell")
           .attr("y", function(d) { return sorted.indexOf(d.rw-1) * cellSize; })
           ;
         t.selectAll(".rwLabel")
          .attr("y", function (d, i) { return sorted.indexOf(i) * cellSize; })
         ;
       }
  }

  d3.select("#order").on("change",function(){
    order(this.value);
  });
  

  var sa=d3.select(".g3")
      .on("mousedown", function() {
          if( !d3.event.altKey) {
             d3.selectAll(".cell-selected").classed("cell-selected",false);
             d3.selectAll(".rwLabel").classed("text-selected",false);
             d3.selectAll(".clLabel").classed("text-selected",false);
          }
         var p = d3.mouse(this);
         sa.append("rect")
         .attr({
             rx      : 0,
             ry      : 0,
             class   : "selection",
             x       : p[0],
             y       : p[1],
             widthy   : 1,
             heighty  : 1
         })
      })
      .on("mousemove", function() {
         var s = sa.select("rect.selection");
      
         if(!s.empty()) {
             var p = d3.mouse(this),
                 d = {
                     x       : parseInt(s.attr("x"), 10),
                     y       : parseInt(s.attr("y"), 10),
                     widthy   : parseInt(s.attr("width"), 10),
                     heighty  : parseInt(s.attr("height"), 10)
                 },
                 move = {
                     x : p[0] - d.x,
                     y : p[1] - d.y
                 }
             ;
      
             if(move.x < 1 || (move.x*2<d.widthy)) {
                 d.x = p[0];
                 d.widthy -= move.x;
             } else {
                 d.widthy = move.x;       
             }
      
             if(move.y < 1 || (move.y*2<d.heighty)) {
                 d.y = p[1];
                 d.heighty -= move.y;
             } else {
                 d.heighty = move.y;       
             }
             s.attr(d);
      
                 // deselect all temporary selected state objects
             d3.selectAll('.cell-selection.cell-selected').classed("cell-selected", false);
             d3.selectAll(".text-selection.text-selected").classed("text-selected",false);

             d3.selectAll('.cell').filter(function(cell_d, i) {
                 if(
                     !d3.select(this).classed("cell-selected") && 
                         // inner circle inside selection frame
                     (this.x.baseVal.value)+cellSize >= d.x && (this.x.baseVal.value)<=d.x+d.widthy && 
                     (this.y.baseVal.value)+cellSize >= d.y && (this.y.baseVal.value)<=d.y+d.heighty
                 ) {
      
                     d3.select(this)
                     .classed("cell-selection", true)
                     .classed("cell-selected", true);

                     d3.select(".rr"+(cell_d.rw-1))
                     .classed("text-selection",true)
                     .classed("text-selected",true);

                     d3.select(".cc"+(cell_d.cl-1))
                     .classed("text-selection",true)
                     .classed("text-selected",true);
                 }
             });
         }
      })
      .on("mouseup", function() {
            // remove selection frame
         sa.selectAll("rect.selection").remove();
      
             // remove temporary selection marker class
         d3.selectAll('.cell-selection').classed("cell-selection", false);
         d3.selectAll(".text-selection").classed("text-selection",false);
      })
      .on("mouseout", function() {
         if(d3.event.relatedTarget.tagName=='html') {
                 // remove selection frame
             sa.selectAll("rect.selection").remove();
                 // remove temporary selection marker class
             d3.selectAll('.cell-selection').classed("cell-selection", false);
             d3.selectAll(".rwLabel").classed("text-selected",false);
             d3.selectAll(".clLabel").classed("text-selected",false);
         }
      })
      ;
});
</script>


              <ul class="pager blog-pager">
        
          <li class="previous">
            <a href="https://mikeleeco.github.io/interactives/2015-06-10-theme-interactive/" data-toggle="tooltip" data-placement="top" title="Theme Interactive - Visualizing Video Games Throughout History">&larr; Previous Post</a>
          </li>
        
        
        
      </ul>

      
        
          <div class="disqus-comments">
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'mikeleeco';
    var disqus_identifier = 'https:\/\/mikeleeco.github.io\/interactives\/2015-06-10-genre-interactive\/';
    var disqus_title = 'Genre Interactive - Visualizing Video Games Throughout History';
    var disqus_url = 'https:\/\/mikeleeco.github.io\/interactives\/2015-06-10-genre-interactive\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>
        
      

    </div>
  </div>
</div>

      
    </div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-12 col-lg-offset-0">
        <ul class="list-inline text-center footer-links">
          
          
          <li>
            <a href="https://mikeleeco.github.io/index.xml" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fa fa-circle fa-stack-2x"></i>
                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          Michael Lee
          &nbsp;&bull;&nbsp;
          2017

          
            &nbsp;&bull;&nbsp;
            <a href="https://mikeleeco.github.io">Michael Lee</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.19</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://mikeleeco.github.io/js/main.js"></script>
<script src="https://mikeleeco.github.io/js/highlight.min.js"></script>
<script> hljs.initHighlightingOnLoad(); </script>
<script> renderMathInElement(document.body); </script>






<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-58518999-1', 'auto');
ga('send', 'pageview');
</script>



  </body>
</html>
